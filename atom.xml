<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Victory&#39;s Blog</title>
  
  <subtitle>人生得意须尽欢，莫使金樽空对月</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-24T12:44:17.483Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>victory-liao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>python | python是否支持多线程</title>
    <link href="http://example.com/2024/01/24/python%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    <id>http://example.com/2024/01/24/python%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BA%BF%E7%A8%8B/</id>
    <published>2024-01-24T12:41:30.000Z</published>
    <updated>2024-01-24T12:44:17.483Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Python是否支持多线程"><a href="#Python是否支持多线程" class="headerlink" title="Python是否支持多线程"></a>Python是否支持多线程</h1><ol><li><p>多线程</p><p><strong>线程在CPU上运行，是操作系统进行调度和执行的基本单位</strong>。</p></li></ol><p>​    首先，要明确进程与线程的关系。一个进程可以包含多个线程，而每个线程都是进程中的一个执行流。可以把进程比作一个工厂，而线程就像是工厂里的工人，它们共同协作完成工作。</p><p>​    其次，线程的创建和运行是在一个进程中进行的。当启动一个线程时（例如，通过调用<code>Thread.start()</code>方法），操作系统会为这个线程分配必要的资源，包括寄存器、栈等，并在CPU上执行该线程的代码。</p><p>​    再者，在<strong>多核CPU</strong>系统中，<strong>不同的线程可以被分配到不同的核心上并行运行</strong>。而在<strong>单核CPU</strong>中，<strong>线程的运行会通过时间片轮转或优先级调度等方式进行切换</strong>，从而实现并发执行。</p><p>​    最后，<strong>线程之间共享所属进程的内存空间</strong>，包括代码段、数据段、堆和栈。这意味着线程可以访问相同的变量和数据结构，但同时需要注意<strong>同步机制</strong>来避免数据竞争和不一致的问题。</p><p>综上所述，线程是在CPU上运行的，它们利用进程中的资源和内存空间，按照操作系统的调度策略执行任务。</p><ol><li>python是否支持多线程？</li></ol><p>Python支持<strong>多线程</strong>，但由于全局解释器锁（GIL）的存在，在任意时刻只能有一个线程执行Python字节码。Python中的多线程是通过<strong>在一个进程中创建多个线程来实现的</strong>，每个线程可以执行不同的任务。然而，由于Python解释器（cpython，由c语言编写的python解释器库）的GIL限制，这些线程并不是真正意义上的并行执行。GIL确保了同一时间只有一个线程能够访问Python的对象和内存空间，这意味着即使在多核处理器上，Python的多线程也无法实现真正的并行计算。</p><p>​    尽管如此，Python的多线程对于<strong>I/O密集型任务</strong>仍然非常有用，因为它们可以在等待I/O操作完成时释放GIL，从而允许其他线程执行。在这种情况下，多线程可以提高程序的效率，因为它们可以减少因等待I/O而浪费的时间。</p><p>​    此外，如果需要执行<strong>CPU密集型任务</strong>，或者希望充分利用多核处理器的能力，可以考虑使用Python的<strong>多进程</strong>模块<code>multiprocessing</code>。多进程可以绕过GIL的限制，因为<strong>每个进程都有自己的Python解释器和内存空间</strong>，从而实现真正的并行执行。</p><p>​    multiprocessing实现多进程并行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_cube</span>(<span class="params">num</span>):</span> </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cube: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(num * num * num)) </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_square</span>(<span class="params">num</span>):</span> </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Square: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(num * num)) </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>: </span><br><span class="line">    <span class="comment"># 创建进程</span></span><br><span class="line">    p1 = multiprocessing.Process(target=print_square, args=(<span class="number">10</span>, )) </span><br><span class="line">    p2 = multiprocessing.Process(target=print_cube, args=(<span class="number">10</span>, )) </span><br><span class="line"></span><br><span class="line">    <span class="comment"># 开启进程</span></span><br><span class="line">    p1.start() </span><br><span class="line">    p2.start() </span><br><span class="line"></span><br><span class="line">    <span class="comment"># 等待p1、p2线程都执行完</span></span><br><span class="line">    p1.join() </span><br><span class="line">    p2.join() </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Done!&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Python是否支持多线程&quot;&gt;&lt;a href=&quot;#Python是否支持多线程&quot; class=&quot;headerlink&quot; title=&quot;Python是否支持多线程&quot;&gt;&lt;/a&gt;Python是否支持多线程&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;多线程&lt;/p&gt;
&lt;p&gt;&lt;stron</summary>
      
    
    
    
    <category term="python" scheme="http://example.com/categories/python/"/>
    
    <category term="基础" scheme="http://example.com/categories/python/%E5%9F%BA%E7%A1%80/"/>
    
    <category term="python是否支持多线程" scheme="http://example.com/categories/python/%E5%9F%BA%E7%A1%80/python%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
    
    <category term="python" scheme="http://example.com/tags/python/"/>
    
    <category term="multiprocessing" scheme="http://example.com/tags/multiprocessing/"/>
    
    <category term="多线程" scheme="http://example.com/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
    <category term="python解释器" scheme="http://example.com/tags/python%E8%A7%A3%E9%87%8A%E5%99%A8/"/>
    
    <category term="cpython" scheme="http://example.com/tags/cpython/"/>
    
  </entry>
  
  <entry>
    <title>记录生活 | 回顾过去七年</title>
    <link href="http://example.com/2024/01/14/%E5%9B%9E%E9%A1%BE%E8%BF%87%E5%8E%BB%E4%B8%83%E5%B9%B4/"/>
    <id>http://example.com/2024/01/14/%E5%9B%9E%E9%A1%BE%E8%BF%87%E5%8E%BB%E4%B8%83%E5%B9%B4/</id>
    <published>2024-01-14T13:05:29.000Z</published>
    <updated>2024-01-14T14:16:50.094Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="27e6817d642bc8140dc16eef201868f96f2609ba8b663023ea9e9147c3c5e7f5">b780b0a90ab26cc39689a6bfa1e86daac6442d6de9743a9acd3f0a2af43b85bdb715df0ebdb51ad32f6a5c32379787da49754b6d64ef0f02bc11fe93600aa0ba3a7a0eb9b2c3860f78bf73f5530e7151d69ecab0d672f1a03902e66963d3d7d3e46b7274546f6ffe6a543802835573f898159d5c126b8ab13f510e6cc7c9654b7db00e9e42999592df4d41b9dff36a8b5d671aef5ee92548d0a71772dcffc87d88e21224f1c60a24627c5aae61e6ec1064ae7e99d3c3dfa21422752fe488128e283b4d751aa97f95603c65485cdc8ccb8e7521e1907de08874e611ce3774e9b11bf928767ecb99b4243b2034b317cdfca49ea7e8e33ad7e549dad741371251e9a574e00eb0236a5412c9646d60bd09680d2ddab49d398ca6d38f41c9d779956edc2f850b251dc91a6156932c055053c082208f6ab34fe04daa3591916d86e270466f0deb70ccf75177083639925460e22a9d3c547b3105295a4f8bc7300aa64b4bc037923b2e822fdabb68b77e3e76599076709e4fa4659d55bff65db3662140243cf18ad27d609579c991d39e429d41d34824b9e76e7c5b390545522cda880964fd356bc654e6fd4f9b4fc4e5d663672983f2fa85564e0f0e5360af66838a80e7becf77a5f38a929225536db201b29fc1f03be52a305cba271bd50ef401aae717d2073559aca3f3574655630e5a2d57ea3ee83307ad452339012334d327da40c73b4e925f8f2232810d5d256aa74cc85464321b6bd23c67cf3d0e2576696c52aadd9e232b8e1f3d32af4f8d271a634b290c5402a28998ac5acce2e311fbb8c80d5fbd5f4b33473af210f9393a509103acea363659de510e040ddc5a6dad19efa0e5d0b3dd95c483946db7c8adb5cd6b7cb57f5d169e7f67d442e7a7b25a11049fd30f5dba604f0ecac2a36a487bae69e547dd1beb43b3077147bba95d600eefd55e3d54e6a579678f6013d4ba9e1d731030a5b17fdae327100bc00280038d0d3f9c027ec603c759fd87b1026174c936b18d8872b8b3c28bc4a9fdfd5d536a72b60fe73f7d49fd67b29389451e17a24205362bf0d62cad7076bd5d47a1a06b2caee77dfd337318e68f40a7d151360b67bae8a0cc874217e2c676f3a62f9bf07b9f657e26d04a210f54ed84c7d82c036dbb22a20757808ccc4370406e2ee060d8ad8a10ff8cc969db95ea68c2c3dfebb01943d77c067956072f3f587bc0994c860ebfe89b6f19433b042ef14d234d41842e3b4761cea9567a7f9d0f23f699582be2ff7f44f1d08dafc360259d107b5091f365c29ad3b7403e63e7f5730c5ce58ad524c5931e6d92ff78c5ce4284889cae4f2f1e68d5f6c8fe2161a7086df744cdbe2e5b7099ef9fa267d78bad60be2148a1f864a8f7c7b8e5d122e7a3525dc506813c4cf708266db032f636030fcc14063d318355b4321912f78bb8dc0a14d5528fc989ddee5e809cd1fb71dcadfc52cc47d8265c762f6bfe2012b38d79524fcaa1012fd737cde7d26ffc87845452e1cd56777b08b59af38083ff3c9c13e9601d8f50220cf74fec358637cb1e9021075d82f0fc2b9a172b27eb83979591c17cd8f6f96a3a65fb7cb97041f800109b70befeabba168fe05b52027b0a74e1c1016621cf725a975ac4da24e728a9413622fdaae45061d5073786788e3188c0a982594b0cc71d38581383f75d87accfd584252e6d29f9e3ebcfbbe3e38e7b45d082613cb3571bdefb3bf0b351e9e896fc226b8918f2c852028ba23702a8a6a5c27bd2cf045c6c4c48082efff5ed4811b199f248330dd95b83ede847a1fb309a6fc849fcf319d398f7c7e3e390a50a7d5c3fe3d6510bd1efcc69ef1d258dcf346309723b1da6a5622367a7e279b4aecbc0a8fd3bb12a51424dea3447321d6d2f449ebd1b0025f9fa778c5e0176302a7450787f7130a2ce010317e47f56ebf7f93cb36094654c81e10ab2dab2bed01269284637f6c4c22ba21d0135e08e6c7cefd8f7f8f612cf4a831898b71db92b35c5db1f11652738723388006f5ca3827a4d8cb7edce64860d2cc91e4032ae025397605b181d8a5c6c8ae55b0c6d1bf55053cca5b14ea45e2caed66d22a97bd5f353d410d792bb409d751ea0818608e2ac320238bfb936e6e4c978e1657fe5f9515e1fcfc9e09341633737c6b2c544f0f2b45459ac23784c4606afa42f84bfa32f760ee811e41e9be4ccf7cf38b7bac66edbff9ce1b3e1a5a741d832271147a46ebe3a97003d5751350dbc8dc4328336bc7047112b812beb5b699035d585c86eb884cb1aebf08be2dad1e0a676f67dd471c4bb2a41b2abacd794e1c9f846f2837a19946c0ea9679d60c770482164269167b8f4863816458d5bc153cbbc1adeb0fff88ee44cbb4f3c4af6fe7b9e4e7c77154d71d8ece4de67765abe0ade375d2e0d1ba0c45e065bc26523a3fa1c67ad6bde7636394a18f617bef78d4adb027a4f734f5ee57ea4b80f2b7598965bdb92f198e3218e1651ac87f8ee66cdab49d46379c0dc67976483c5a1d74d4b3e5e2e4f2358cccaa06b0fcae6d32ac16ad0748cc1c3b31724fd9d77cff876c9006da4f78bc0bdacac7ec57ade50cf0915854cd97ca7421635d5bbd84ab125145d9cf1c60b8073955235b007c83fda33479686f1e528f5366de8915a3608d12b51c028ed3644c6ff474a7be3c775372d2ec5048dcabcfbd3a5ba1de45078819af9f2e8787892ebba6771be39b4224818a194629d2e69e740a6a2c7e973bd666562f02c676e02f2bd547af3fd426e329f369dcb284ecc55630fbbee7a1335b04458366b19e9b45542da2fe31ed568329cde6fd41867974dd0e1034ba6ebdbfe28e26ae1d28aca4c5410a366b91d3caacdbd536f67e0bc82e948fffc80bf61e7f25014df02dc835a49ce682c87a9362fd270f84b8187fa24f204c991597b9dad86d0e31adb958209b2241d2f3bff0aac3b99d3251d5be04f3087bdeca114257961e201de55a66fa07c72dacfbabb9d8722b2a8eefec54fc146c1866fbef2d91f59a6a3d9d64577366d41bf2d6e83a96bd44073d3383c2d10f8179271e6cb2b5c3166bf86c93da1fe586843f05fce0af82151e54a552a1d8a49a52c4cb2c006fafdd43f8fda62be68a412582656eb72d55eb22f9d925d0fc0cc2ad0e143e7247871a58f2e3fb87e19aa51640d2631969dc3a7a5c3f23dd4b7de7b92760495de12ff143a54591e37becf42a915ac3459f5597a4060f4e9139514ee37405d4e49b47c3b8357271e439b682efd77b45ef7e21046722bc964a4370ce571e825b4ad109df4325b152480c2a0e2b92d3a682313de09c5a9816a48d4951a42f0e5015b5c5cfe1ddf16bc14cc39245c47d4bb16863ae322cc4df453a7ab522044ebb5c8451fc1478cc63237bf24fbb75f464b7532b2bee4c892b8179dc86a714b49bcdb9e7b5ce651c7dd9fd0ae35f7c881f4d0550b86a345d0e41e5ea66c9ee1f1648ecda62b3003f10dff48d5416de75df08b503a0c41d94602ead624db85c378519c6c5b9b87c99b0e049aa6c8a72ec3ae750443075f66e00536741c0b240bfdfd4fe055cac97acaf9b4581a8bfdc9e25ddb0880777f4f62fa1935faeff788041859783b34a137273d58256b64d04fe1f1550dacbf56bb6cbe2bf845a4d01c12827cc481924e9ef7048600d98784b7393e0d4744fce15fc1fedbc775e77e7c9132177759243fdf5274b014016d9f17e4391c97048487b75517707bcb66e2fc08accc5ad14a4e7f56d27b82bd606c751b5fcf3c5db974358d8c64d71d3928e4ac3c3ae7da637de7f8cb5e0c4f239793f33256ec40568ec99810762eda17364f847e88c0208db67decd42c2d100eaf5545f4b5c599609b651303d268b3032443775b18f448158ff880936c6afc6a4c7eaf1205c50adce1756d8b7dbf57b308e3f7804466b8b5f89dfd800bec8daadb19b14e2224a15b5201c070ff6fa49e9004b02b40a879eabe54baba9a3fbd8290568e2ee12710183fd842ec0d0b7fb26c617ad0c25653f3c4145dd4e898bbe10e717de2b35c26346fbfb65fcdd15c37080c12f83d12e2d945e0730cc34f081cfc12a9a3b7105b268ba6620f65c3ea82d5a73e9655be3a7242521fdd367da0eafc12efc791e02b0403f2deede7e1429bf28b1e56ed2651c30ebafe7b307fedc201c73178bf5d06e748f986d2f74c218ba05997bb4deb08e1029b242f73f207d0d8cf127d9fda0eea9c7593b80204b26743dae55848b296aa4cac31fffc301466bcb453f35bb65a26a7de13063befd6a3279687cf1038bc4e335ea6bca3155de2fcc231114e99f605b9e6528dfeb410b848023d0486f7cd870f6778298cfc0123644d4ab2dd20fd7ae3914dfe99403edd765bb91a043d47c540f8c1a62e4c47f663a765c08e1e058e75e484c4afbf9c2548c6c70542a5d8fd1491a3cef9f69f6b4421b40f4f49165c7907c96c942fd518d0a2597a149f83837bd52b6205306fc4e9948ebb3d803e3cf8841338de3cb0ab809ee5e13f8432f302f8b7b248e0b042300b75bb77b2b14df7be763be09eac4e30d86917deaa61faccd96ba4275d27d73185da55962deb5a0177d31dfb38a41ff8b16f291ac57ce3130390b3c990ac9c050fb5378b19f69010870af28cf2cd1933c3c212114c6acf37b6c3bb2e43db3bc45dd088ecb33694211244ae8b6a302b15241c357571749b0001f5286c2b8e461ffb78c1dbf54c200acfdeec51af399e7839151d66924d1d8d87537b43ba4c500b28d0da57ccda0df0b9b5a292514a504e54cf1191eb9946ea2dbde9d9b17837e8debbb9bdab86f0affacc950451718a2dc4a0060b8fd2a84afda90101d08b50306853cf01ab41e186868d909569d2fef8c6b4f32de75375810f8607d09120121db8fe978623c34a35d8b4df309ac8952e6748fe0720fdfeb6e4c824a5b548cc2fcb19ce152509b37acd2240c7a5531d564f63ec7843d0d65c56532548a62773a9d9041be4eba4b013ffbd733088a72dc2afb4b2ffea5f7bb9b727499fbfa78376c3e9d455e2f6f07d6565bd31432a5a4110dfa1009c8c1aea5233d7bcb406f9e81e84c2c7ea0e5c27ee790c9da705c4f693637cdb435fb7fdec116d60e8048ede165fcafc035561e16d874c54707a971634ecf5431a913f6d54719c6e4195ed272f3a792d7328cdb334228f43f0c69f28185c41520f4266430efb89ee9d47b4122fb2b0121c24ac458d2b3b0fd0c886819939672f4110d22fe1f243f5d2f72235dedb5a5b400b68f54a9b7da405b9b7b7791ab05f34d736aaef74f47864b42d76c67cc4961b391d8ec674d1511c58230d1b43829a7d8121b278fb0c18c00597e4eba297e9b313c158f32102548aa1fd8356e99e1191a95b9fc035562e914c464440f7ba84ab8f0a6dac5dc97324cd0c20599fefb245705ca0a283c542662e91b3ebc501644f8faea7371be3b75af751f0279871f542f19c4432c46975d624d3625791ade85caa4d2409c36ffcbe555adbf20b8b6d5f893e749c124f73509aa43109c1f1a7b06f4b4c80e474fbff99b5a3a2f70e6f01b358e010a29c3bfbdcdc0f18bd7b772921ff64fe32d355be227b92c88d077feb20bae6fe78c63dd2637914daa27940445e6402470e1be1b32e7254339eefa8f4e789f529a88eaa20a4da651c589e5268927d8215c7e1465e251d20a6bd9485ca0d76ceee5621e3c28cfb6191d178d6a9db0574ba1dc53157a5024b1b904eece92c6e0ccd7fe5f573c61c9b7bfe3ecc12b56611a8a8498e5a2c6626be4640a1ab01a99b6cf960d0798f624ed22b7a3135534e523eba4e71a1e4d4c4bfd887248d8c0482d2f4eea9cf874c3c094d2e81e18223628250f22f5071faaf0ec9e4823426ff0f8685b346870017bd3205577c1b90fdd7540921ee0a2de3d8fe044073a8690ac6d532cb7a398b045cd98c3f735bb57f0a71e3eee88ba03de174bad4a10418873e03f4bac141db0e523df2e1711de58bb7bb54ccf2721c318addc5d7cd5b6a1d04ef20a5e2d151abda8e5b78fde6391c6fe589532669e0124d8ebc4b7b47c68eaa3d68b21fd2efe3951c9763dac6bb0282c23e692c2aaafa0e90f13087bc1aea4f2eec9b1a1f46ee3f1774bc98754ec25cf4af35346b97fb56ad03634c4b1c56ec50bfbfebc50f5b069592a1f608add5f202af5e3bb21b56a89ad9f61ed907248ec5c699e12e537480adda31bcce61f9647e94139bf9ca56a7fb79ef08e94317bdd56dfcb4944953035c0529e004fed3b5e535dc2b8c013c01f23233e52e3a6a8c0817e159321bdb6314f82c206132250746944573ac65533c6dd6317d659fb2287750f1a5c347a7e3e1891a23f057a50e62739dc3b28a8922d22af8ce33a4f19c95b788a304a849f89fe06c86e3872c29c283f2bcf90f9051025d81352f2ab2f586f6caf75fc95c062b8648dcf7aa9148310b624e83d826842195bae0e4f420e6be43d1f00c5519b40247659788937b4964f44971e12ffbf4cdd54b521635febbcb79fdaeb211371f26e7fe129d3e7c8283e1af00c8798e069193da50b2f4850aa550940c9de284f26431e5191d4e7ac2170c37da7c5e608e1e500aa344b2e43bff12412a0dcfcfd92ed77150adbd321d7deed06d965cfb93cf74a93a90d103c66fd721b076cb05eb60cbc821003e90a859af67a2541841bb1d74db1dd7582834bc9e389b9827af81af48d10637b828cfd4ce4d58fa21125000c4396a9a7d3cd41961d0151752081ca67776bb892e8648cce8169a492a1fc1b379abfe61a57aef80f974f0516b9e12166d372a338c651ace40fd28fbe79680e5d92ac0cc92fcb951de3d7594daac82e4c838d8e761f75a8415bdff7d0db3b71f4c039d81bca202b919f686a2df9cbbb0a7f7e700a2f44887886eeab0e1023abd0cb22599b04041983a1d9569ce6ac96fe48b0561221c9b8ec44411bfa1533a87ca61d8ac1f2f7cc2dfc54cf48c5b67895788a89a79e370717a863508fb3d45a81f19f6aa69acb01cc3fc267d953d459726da3dc098b3e314b2e35ec8a4db0a77b55bf7e464c6b7585f8453fd233062c75536e66fd9a3563436bfb41827646f292335a963d81ef6861ca3d56a61120ec734b198936288b2922e8e8d51f8122b66251a30d3bbaf158bf1647e8c21dc35204f41df9dc383eb01f8bcb3613ff1</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">此文涉及个人经历，暂不公开！</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="记录生活" scheme="http://example.com/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"/>
    
    <category term="回顾过去七年" scheme="http://example.com/categories/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/%E5%9B%9E%E9%A1%BE%E8%BF%87%E5%8E%BB%E4%B8%83%E5%B9%B4/"/>
    
    
    <category term="记录生活" scheme="http://example.com/tags/%E8%AE%B0%E5%BD%95%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>C++ | 字符串分割</title>
    <link href="http://example.com/2023/10/12/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2/"/>
    <id>http://example.com/2023/10/12/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2/</id>
    <published>2023-10-12T15:54:27.000Z</published>
    <updated>2023-10-12T15:56:10.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-字符串分割"><a href="#C-字符串分割" class="headerlink" title="C++字符串分割"></a>C++字符串分割</h1><p>字符串分割是编程中经常遇到的一个问题，采用C++语言实现字符串分割与其他语言有所不同，下面将采用C++语言实现字符串分割并对用到的字符串操作函数进行详细的描述。</p><ul><li><p>字符串分割Java实现</p><p>Java通过调用String.split(String delimiter)方法可直接完成对字符串的分割。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    String str = <span class="string">&quot;I am a good programmer!&quot;</span>;</span><br><span class="line">    String[] splited_string = str.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(String s : splited_string)&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>字符串分割Python实现</p><p>python实现字符串分割代码更为间接，很多功能使用python实现仅用一行代码，江湖上称之为“一行流”。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I am a good programmer!&quot;</span>.split(<span class="string">&quot; &quot;</span>))</span><br></pre></td></tr></table></figure></li><li><p>字符串分割C++实现</p><p>比起Java和python实现，采用C++实现字符串分割的过程则略为繁琐。需要用到c_str()、strcpy()、strtok()等方法。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">splitString</span><span class="params">(<span class="keyword">const</span> string &amp;str, <span class="keyword">const</span> string &amp;split, vector&lt;string&gt; &amp;res)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// str:要处理的字符串</span></span><br><span class="line">    <span class="comment">// split:分隔符</span></span><br><span class="line">    <span class="comment">// res:存放分割后的结果</span></span><br><span class="line">    <span class="keyword">char</span> *strc = <span class="keyword">new</span> <span class="keyword">char</span>[str.<span class="built_in">size</span>() + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(strc, str.<span class="built_in">c_str</span>()); </span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> *temp = <span class="built_in">strtok</span>(strc, split.<span class="built_in">c_str</span>());</span><br><span class="line">    <span class="comment">//strtok()的源码为char *__cdecl strtok(char * __restrict__ _Str,const char * __restrict__ _Delim)</span></span><br><span class="line">    <span class="comment">//strtok接收的参数时char*类型，因此进行字符串分割前需要将string类型的字符串转为char*类型</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        res.<span class="built_in">push_back</span>(<span class="built_in">string</span>(temp));</span><br><span class="line">        temp = <span class="built_in">strtok</span>(<span class="literal">NULL</span>, split.<span class="built_in">c_str</span>()); <span class="comment">//strtok第一个参数传入NULL，使用之前保存的SAVE_PTR定位下一个待处理的字符的位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span>[] strc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    vector&lt;string&gt; result;</span><br><span class="line">    <span class="built_in">splitString</span>(<span class="string">&quot;I am a good programmer!&quot;</span>, <span class="string">&quot; &quot;</span>, result);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;分割的子字符串的数量为：&quot;</span> &lt;&lt; result.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;分割后的字符串为：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        std::cout &lt;&lt; result[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>字符串分割所使用方法详解</p><ul><li><p>string.c_str()</p><p>c_str()方法的原型如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> _CharT* <span class="title">c_str</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><p>该方法返回一个指向常量的指针，指针所指向的内容不能被修改，在字符串分割中主要使用该方法将string类型转为char*类型，与字符串分割函数strtok()方法的接收参数类型保持一致。注意：一定要使用strcpy()函数等来操作方法c_str()返回的指针。</p></li><li><p>string.strcpy()</p><p>strcpy()方法的原型如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">char * __cdecl strcpy(char * __restrict__ _Dest,const char * __restrict__ _Source);</span><br></pre></td></tr></table></figure><p>该方法将字符串Source复制到Dest。该方法线程不安全，c++提供了线程安全的字符串拷贝方法strcpy_s()。</p></li><li><p>string.strtok()</p><p>strtok()方法的原型如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *__cdecl <span class="title">strtok</span><span class="params">(<span class="keyword">char</span> * __restrict__ _Str,<span class="keyword">const</span> <span class="keyword">char</span> * __restrict__ _Delim)</span></span></span><br></pre></td></tr></table></figure><p>其中，Str表示要进行分割的字符串，Delim为字符串分隔符，该方法将Delim中的字符作为分隔符对字符串Str进行分割。如果Str为空，则函数内部的SAVE_PTR指针在下一次调用中将作为下一个分割字符串的起始位置。其实这就说明在函数strtok()内部使用了一个<strong>静态变量SAVE_PTR指针</strong>，用以<strong>记录分割一次之后_String中下一个字符串的位置</strong>。这种方法导致了一个问题，就是<strong>strtok()函数</strong>是<strong>线程不安全</strong>的（因为其<strong>函数内部使用到了静态存储区</strong>）。</p><p>除此之外，从函数的定义，第一个传入参数<strong>_String</strong>定义为<strong>char*而不是const char*</strong>，就说明<strong>strtok()函数不保证不修改传入数据的内容</strong>。实际上，<strong>第一个参数_String传进来的字符串，是会被strtok()函数所修改的</strong>，因此调用strtok()函数的时候应当注意。</p><p>c++中也提供了线程安全的字符串分割方法strtok_s，其原型如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *__cdecl <span class="title">strtok_s</span><span class="params">(<span class="keyword">char</span> *_Str,<span class="keyword">const</span> <span class="keyword">char</span> *_Delim,<span class="keyword">char</span> **_Context)</span></span>;</span><br></pre></td></tr></table></figure><p>strtok_s()函数增加了一个参数<strong>_Context</strong>，这个参数就是<strong>相当于strtok()函数中内部定义的静态SAVE_PTR指针</strong>，用来传递对字符串_String的处理进行到了哪里。</p></li></ul></li></ul><p><a href="https://blog.csdn.net/jay_zzs/article/details/106883832">参考文章：C/C++——字符串分割（strtok, strtok_s）</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;C-字符串分割&quot;&gt;&lt;a href=&quot;#C-字符串分割&quot; class=&quot;headerlink&quot; title=&quot;C++字符串分割&quot;&gt;&lt;/a&gt;C++字符串分割&lt;/h1&gt;&lt;p&gt;字符串分割是编程中经常遇到的一个问题，采用C++语言实现字符串分割与其他语言有所不同，下面将采用</summary>
      
    
    
    
    <category term="C++" scheme="http://example.com/categories/C/"/>
    
    <category term="字符串分割" scheme="http://example.com/categories/C/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%86%E5%89%B2/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="字符串" scheme="http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>C++ | OOP方法实现链式队列</title>
    <link href="http://example.com/2023/10/12/OOP%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E9%93%BE%E5%BC%8F%E9%98%9F%E5%88%97/"/>
    <id>http://example.com/2023/10/12/OOP%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E9%93%BE%E5%BC%8F%E9%98%9F%E5%88%97/</id>
    <published>2023-10-12T15:30:22.000Z</published>
    <updated>2023-10-12T15:31:24.215Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-OOP方法实现链式队列"><a href="#C-OOP方法实现链式队列" class="headerlink" title="C++ OOP方法实现链式队列"></a>C++ OOP方法实现链式队列</h1><ul><li><p>队列</p><p>队列（Queue）是一个<strong>先进先出（First In First Out, FIFO）</strong>的数据结构，即先入队的元素先出队。队列有<strong>两种存储形式：顺序存储和链式存储</strong>，采用顺序存储方式的队列称为顺序队列，采用链式存储的队列称为链式队列。顺序队列采用数组存储队列中的元素，由队头指针head和队尾指针tail表示队列的头尾。<strong>链式队列采用链表实现，由头结点和若干个队列元素节点组成，头结点包括队头指针head、队尾指针和队列大小size三个域，head指针指向队头，tail指针指向队尾，队列元素节点由值域val和指针域next组成，val代表队列元素的值，next代表指向下一个队列结点的指针。</strong>其中，较为常用的是链式队列，下面将详细介绍链式队列的属性、方法以及C++代码实现。</p></li><li><p>队列属性和方法介绍</p><p>对队列进行抽象，可将其表示为包括队头指针、队尾指针和队列大小三个属性的数据结构。队列的基本操作包括入队、出队、队列判空、队列销毁、队列元素输出等，其伪代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//队列定义</span></span><br><span class="line">queue：</span><br><span class="line">    head, tail, size<span class="comment">//head:队头指针、tail：队尾指针、size：队列大小</span></span><br><span class="line">    <span class="built_in">enqueue</span>(elem)<span class="comment">//入队</span></span><br><span class="line">    <span class="built_in">dequeue</span>()<span class="comment">//出队</span></span><br><span class="line">    <span class="built_in">is_empty</span>()<span class="comment">//队列判空</span></span><br><span class="line">    <span class="built_in">destory</span>()<span class="comment">//队列销毁</span></span><br><span class="line">    <span class="built_in">traverse</span>()<span class="comment">//队列元素输出</span></span><br></pre></td></tr></table></figure></li><li><p>链式队列C++实现</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队列中的元素结点</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QueueNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">int</span> val;<span class="comment">//值域</span></span><br><span class="line">        QueueNode *next;<span class="comment">//指针域，指向下一个队列元素</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队列</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span>&#123;</span></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> size;<span class="comment">//队列大小</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        QueueNode *head;<span class="comment">//队头指针</span></span><br><span class="line">        QueueNode *tail;<span class="comment">//队尾指针</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">Queue</span>();<span class="comment">//构造函数，完成对象初始化工作</span></span><br><span class="line">        ~<span class="built_in">Queue</span>();<span class="comment">//析构函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(<span class="keyword">int</span> val)</span></span>;<span class="comment">//入队</span></span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">dequeue</span><span class="params">()</span></span>;<span class="comment">//出队</span></span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">is_empty</span><span class="params">()</span></span>;<span class="comment">//队列判空</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>;<span class="comment">//销毁队列</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">traverse</span><span class="params">()</span></span>;<span class="comment">//输出队列中的所有元素</span></span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">get_size</span><span class="params">()</span></span>;<span class="comment">//获取队列大小</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取队列大小</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Queue::get_size</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//构造函数</span></span><br><span class="line">Queue::<span class="built_in">Queue</span>()&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;head = <span class="keyword">this</span>-&gt;tail = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//析构函数</span></span><br><span class="line">Queue::~<span class="built_in">Queue</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//入队</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Queue::enqueue</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    QueueNode *node = (QueueNode *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(QueueNode));</span><br><span class="line"></span><br><span class="line">    node-&gt;val = val;</span><br><span class="line">    node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;head == <span class="literal">NULL</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;head = node;</span><br><span class="line">        <span class="keyword">this</span>-&gt;tail = node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;tail-&gt;next = node;</span><br><span class="line">        <span class="keyword">this</span>-&gt;tail = node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;size += <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//出队</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Queue::dequeue</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">is_empty</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;队列为空，没有元素可以出队，请先向队列中添加元素！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> val = <span class="keyword">this</span>-&gt;head-&gt;val;</span><br><span class="line">    <span class="keyword">this</span>-&gt;head = <span class="keyword">this</span>-&gt;head-&gt;next;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>-&gt;size -= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//队列判空</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Queue::is_empty</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;size == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出所有队列元素</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Queue::traverse</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">is_empty</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;队列为空！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;队列所有元素如下：&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    QueueNode *p_node = <span class="keyword">this</span>-&gt;head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p_node != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; p_node-&gt;val &lt;&lt; endl;</span><br><span class="line">        p_node = p_node-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//销毁队列</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Queue::destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">is_empty</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;队列中没有元素！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> val = <span class="keyword">this</span>-&gt;<span class="built_in">dequeue</span>();</span><br><span class="line">    <span class="keyword">while</span>(val != <span class="number">-1</span>)&#123;</span><br><span class="line">        val = <span class="keyword">this</span>-&gt;<span class="built_in">dequeue</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;queue is destroyed!&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//主函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//队列定义</span></span><br><span class="line">    Queue queue;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//操作队列</span></span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">1</span>);<span class="comment">//元素入队列</span></span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">2</span>);</span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">3</span>);</span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">4</span>);</span><br><span class="line">    queue.<span class="built_in">enqueue</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">int</span> val = queue.<span class="built_in">dequeue</span>();<span class="comment">//元素出队列</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;出队元素为：&quot;</span> &lt;&lt; val &lt;&lt; endl;</span><br><span class="line">    queue.<span class="built_in">traverse</span>();<span class="comment">//输出所有队列元素</span></span><br><span class="line">    queue.<span class="built_in">destory</span>();<span class="comment">//销毁队列</span></span><br><span class="line">    queue.<span class="built_in">traverse</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;queue.size:&quot;</span> &lt;&lt; queue.<span class="built_in">get_size</span>() &lt;&lt; endl;<span class="comment">//输出队列大小</span></span><br><span class="line">    cout &lt;&lt; queue.<span class="built_in">is_empty</span>() &lt;&lt; endl;<span class="comment">//队列判空</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://blog.csdn.net/LiuBo_01/article/details/80412290">参考资料：队列的基本操作（顺序队列、循环队列、链式队列）</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;C-OOP方法实现链式队列&quot;&gt;&lt;a href=&quot;#C-OOP方法实现链式队列&quot; class=&quot;headerlink&quot; title=&quot;C++ OOP方法实现链式队列&quot;&gt;&lt;/a&gt;C++ OOP方法实现链式队列&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;队列&lt;/p&gt;
&lt;p&gt;队列（</summary>
      
    
    
    
    <category term="C++" scheme="http://example.com/categories/C/"/>
    
    <category term="OOP方法实现链式队列" scheme="http://example.com/categories/C/OOP%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E9%93%BE%E5%BC%8F%E9%98%9F%E5%88%97/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="OOP" scheme="http://example.com/tags/OOP/"/>
    
    <category term="链式队列" scheme="http://example.com/tags/%E9%93%BE%E5%BC%8F%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>C++ | lambda表达式</title>
    <link href="http://example.com/2023/10/10/cpluspluslambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>http://example.com/2023/10/10/cpluspluslambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/</id>
    <published>2023-10-11T03:46:38.000Z</published>
    <updated>2023-10-11T03:48:09.180Z</updated>
    
    <content type="html"><![CDATA[<h1 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h1><ol><li><p>lambda表达式是什么？</p><p>Lambda 表达式（通常称为 Lambda）是一种在被调用的位置或作为参数传递给函数的位置定义匿名函数对象（闭包）的简便方法。</p></li><li><p>lambda表达式的语法</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[capture list] (parameters) <span class="function"><span class="keyword">mutable</span> <span class="title">throw</span><span class="params">()</span> -&gt; <span class="keyword">return</span>-type </span>&#123;statement&#125;</span><br></pre></td></tr></table></figure><span id="more"></span><p><strong>capture list</strong>: 在C ++规范中也称为<strong>Lambda导入器</strong>， 捕获列表总是出现在Lambda函数的开始处。实际上，[]是Lambda引出符。编译器根据该引出符判断接下来的代码是否是Lambda函数，<strong>捕获列表能够捕捉上下文中的变量以供Lambda函数使用</strong>。</p><p><strong>parameters</strong>: 与普通函数参数列表一致。不需要参数传递时，可以省略“（）”。</p><p><strong>mutable</strong>: mutable修饰符修饰的函数为可变函数， 默认情况下Lambda函数总是一个const函数，mutable可以取消其常量性。在使用该修饰符时，参数列表不可省略（即使参数为空）。</p><p><strong>throw()</strong>:  用于Lamdba表达式内部函数抛出异常。</p><p><strong>return-type</strong>: 函数的返回值类型，不需要返回值时可以连“-&gt;”一起省略。若在返回值类型明确的情况下省略该部分，编译器会对返回值类型进行自动推导。</p><p><strong>{statement}</strong>: 函数体，可以使用函数参数和所有capture list捕获的变量。</p></li><li><p>capture list详解</p><p>Lambda 可在其主体中引入新的变量（用 C++14），它还可以访问（或“捕获”）周边范围内的变量。 Lambda 以 capture 子句开头。 它指定捕获哪些变量，以及捕获是通过值还是通过引用进行的。 有与号 (<code>&amp;</code>) 前缀的变量通过引用进行访问，没有该前缀的变量通过值进行访问。</p><p><strong>空 capture 子句 <code>[ ]</code> 指示 lambda 表达式的主体不访问封闭范围中的变量。</strong></p><p><strong><code>[&amp;]</code> 表示通过引用捕获引用的所有变量，而 <code>[=]</code> 表示通过值捕获它们。</strong></p></li></ol><p>​        注意：捕获列表不允许变量重复传递。例如[=, a]或[&amp;,&amp;a]，=已经通过值捕获方式捕获了所有变量，&amp;已经通        过引用捕获方式捕获了所有变量。</p><ol><li><p>lambda表达式示例</p><ul><li><p>[]不捕获任何变量</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> func = [](string words) -&gt; <span class="keyword">void</span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        []:捕获列表为空，表示不捕获任何变量</span></span><br><span class="line"><span class="comment">        words:函数参数</span></span><br><span class="line"><span class="comment">        -&gt;void：函数返回值为void</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;hello,&quot;</span> &lt;&lt; words &lt;&lt; endl;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">func</span>(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>[&amp;]以引用传递方式捕获所有变量</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">auto</span> func = [&amp;]() -&gt; <span class="keyword">void</span>&#123;</span><br><span class="line">        <span class="comment">// [&amp;]:以引用传递方式捕获变量</span></span><br><span class="line">        <span class="comment">// -&gt;void：函数返回值为void</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;i:&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; j:&quot;</span> &lt;&lt; j &lt;&lt; endl;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">func</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>[=]以值传递方式捕获所有变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">int num1 = 1;</span><br><span class="line">int num2 = 2;</span><br><span class="line">    auto add = [=]() -&gt; int&#123;</span><br><span class="line">        /*</span><br><span class="line">        [=]:以值传递方式捕获变量</span><br><span class="line">        -&gt;int：函数返回值为int</span><br><span class="line">        */</span><br><span class="line">        return num1 + num2;</span><br><span class="line">    &#125;;</span><br><span class="line">    int sum = add();</span><br><span class="line">    cout &lt;&lt; &quot;num1+num2=&quot; &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;lambda表达式&quot;&gt;&lt;a href=&quot;#lambda表达式&quot; class=&quot;headerlink&quot; title=&quot;lambda表达式&quot;&gt;&lt;/a&gt;lambda表达式&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;lambda表达式是什么？&lt;/p&gt;
&lt;p&gt;Lambda 表达式（通常称为 Lambda）是一种在被调用的位置或作为参数传递给函数的位置定义匿名函数对象（闭包）的简便方法。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;lambda表达式的语法&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[capture list] (parameters) &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;mutable&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; -&amp;gt; &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;-type &lt;/span&gt;&amp;#123;statement&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;&lt;/ol&gt;</summary>
    
    
    
    <category term="C++" scheme="http://example.com/categories/C/"/>
    
    <category term="lambda表达式" scheme="http://example.com/categories/C/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="lambda表达式" scheme="http://example.com/tags/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>C++ | 二级指针</title>
    <link href="http://example.com/2023/10/10/cplusplus%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88/"/>
    <id>http://example.com/2023/10/10/cplusplus%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88/</id>
    <published>2023-10-11T03:43:43.000Z</published>
    <updated>2023-10-11T03:44:51.383Z</updated>
    
    <content type="html"><![CDATA[<h1 id="c-二级指针"><a href="#c-二级指针" class="headerlink" title="c++二级指针"></a>c++二级指针</h1><ul><li><p>普通变量作为形参</p><p>在函数中采用普通变量接收实参传递的变量，对变量的操作是对实参拷贝值的操作，不会改变原有变量的值</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change_value</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">  a = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;before changed,a=&quot;</span> &lt;&lt; a &lt;&lt; endl;<span class="comment">//输出：before changed,a=10</span></span><br><span class="line">    <span class="built_in">change_value</span>(a);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;after changed,a=&quot;</span> &lt;&lt; a &lt;&lt; endl;<span class="comment">//输出：after changed,a=10</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>指针变量作为形参</p><p>由上可知，普通变量作为形参时，对变量的操作其实是对拷贝值的操作，不会改变原来变量的值，若要改变原来变量的值，可采用指针变量作为形参。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change_value</span><span class="params">(<span class="keyword">int</span> *p)</span></span>&#123;</span><br><span class="line">    *p = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;before changed,a=&quot;</span> &lt;&lt; a &lt;&lt; endl;<span class="comment">//输出：before changed,a=10</span></span><br><span class="line">    <span class="built_in">change_value</span>(&amp;a);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;after changed,a=&quot;</span> &lt;&lt; a &lt;&lt; endl;<span class="comment">//输出：after changed,a=20</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>二级指针作为形参</p><p>以上是通过函数修改普通变量的值，若要对指针变量的指向进行修改，则需要使用二级指针来实现。</p><p>首先在函数中，采用指针变量作为形参接收实参传递的指针，示例代码如下，由代码输出结果可知，用指针变量作为形参不能够修改原来指针的指向。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change_value</span><span class="params">(<span class="keyword">int</span> *p)</span></span>&#123;</span><br><span class="line">p = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;before changed,*p=&quot;</span> &lt;&lt; *p &lt;&lt; endl;<span class="comment">//before changed,*p=10</span></span><br><span class="line">    <span class="built_in">change_value</span>(p);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;after changed,*p=&quot;</span> &lt;&lt; *p &lt;&lt; endl;<span class="comment">//after changed,*p=10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以下代码是二级指针作为形参的示例代码，由代码输出可知，二级指针作为形参时可以修改原来指针变量的指向。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change_value</span><span class="params">(<span class="keyword">int</span> **p)</span></span>&#123;</span><br><span class="line">    *p = <span class="keyword">new</span> <span class="built_in"><span class="keyword">int</span></span>(<span class="number">20</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> *p = &amp;a;</span><br><span class="line">    <span class="keyword">int</span> **pp = &amp;p;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;before changed,*p&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">change_value</span>(pp);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;before changed,*p&quot;</span> &lt;&lt; *p &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;after changed,**pp&quot;</span> &lt;&lt; **pp &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>此外，二级指针还常与结构体、数组一起使用，二级指针搭配结构体/数组的使用将在后续补充 ！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;c-二级指针&quot;&gt;&lt;a href=&quot;#c-二级指针&quot; class=&quot;headerlink&quot; title=&quot;c++二级指针&quot;&gt;&lt;/a&gt;c++二级指针&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;普通变量作为形参&lt;/p&gt;
&lt;p&gt;在函数中采用普通变量接收实参传递的变量，对变量的操作是</summary>
      
    
    
    
    <category term="C++" scheme="http://example.com/categories/C/"/>
    
    <category term="二级指针" scheme="http://example.com/categories/C/%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="二级指针" scheme="http://example.com/tags/%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88/"/>
    
  </entry>
  
  <entry>
    <title>C++ | 指针与引用的区别</title>
    <link href="http://example.com/2023/10/09/C-%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>http://example.com/2023/10/09/C-%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB/</id>
    <published>2023-10-09T12:26:43.000Z</published>
    <updated>2023-10-09T12:40:06.532Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-指针与引用"><a href="#C-指针与引用" class="headerlink" title="C++指针与引用"></a>C++指针与引用</h1><p>学习c++时，很容易混淆指针和引用的用法，以及对指针与引用的使用存在些许疑惑，下面通过示例代码说明指针和引用的区别。</p><ul><li>指针与引用的区别？</li></ul><ol><li>定义和性质不同</li></ol><p>指针是一个变量，其存储的是一个地址，该地址指向内存的一个存储单元；举例，张三的身份证看做一个指针，这个指针指向了张三，张三的妈妈夸奖了身份证不等于张三的妈妈夸奖了张三。</p><p>引用是一个变量的别名，跟原来的变量实质上是同一个东西，类似于日常生活中“小名”的意思，例如张三的小名叫毛蛋，张三与毛蛋都指的是张三这个人，张三的妈妈夸奖了张三等于张三的妈妈夸奖了毛蛋。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">996</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a; <span class="comment">// p是指针, &amp;在此是求地址运算</span></span><br><span class="line"><span class="keyword">int</span> &amp;r = a; <span class="comment">// r是引用, &amp;在此起标识作用</span></span><br></pre></td></tr></table></figure><p>上面定义了一个整型变量 a，p 是一个指针变量，p 的值是变量 a 的地址；</p><p>而引用 r，是 a 的一个别名，在内存中 r 和 a 占有同一个存储单元。</p><span id="more"></span><ol start="2"><li>指针可以有多级，引用只能是一级</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> **p; <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">int</span> &amp;&amp;a; <span class="comment">// 不合法</span></span><br></pre></td></tr></table></figure><ol start="3"><li>指针可以在定义的时候不初始化，引用必须在定义的时候初始化</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p; <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">int</span> &amp;r; <span class="comment">// 不合法</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">996</span>;</span><br><span class="line"><span class="keyword">int</span> &amp;r = a; <span class="comment">// 合法</span></span><br></pre></td></tr></table></figure><ol start="4"><li>指针可以指向NULL，引用不可以为NULL</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p = <span class="literal">NULL</span>; <span class="comment">// 合法</span></span><br><span class="line"><span class="keyword">int</span> &amp;r = <span class="literal">NULL</span>; <span class="comment">// 不合法</span></span><br></pre></td></tr></table></figure><ol start="5"><li>指针初始化之后可以再改变，引用不可以</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">996</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a; <span class="comment">// 初始化, p 是 a 的地址</span></span><br><span class="line"><span class="keyword">int</span> &amp;r = a; <span class="comment">// 初始化, r 是 a 的引用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> b = <span class="number">885</span>;</span><br><span class="line">p = &amp;b;<span class="comment">// 合法, p 更改为 b 的地址</span></span><br><span class="line">r = b; <span class="comment">// 不合法, r 不可以再变,运行不会报错，实际上是将别名为r的a变量的值修改为b的值885</span></span><br></pre></td></tr></table></figure><ol start="6"><li>sizeof 的运算结果不同</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">996</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"><span class="keyword">int</span> &amp;r = a;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(p); <span class="comment">// 返回 int* 类型的大小</span></span><br><span class="line">cout &lt;&lt; <span class="built_in"><span class="keyword">sizeof</span></span>(r); <span class="comment">// 返回 int 类型的大小</span></span><br></pre></td></tr></table></figure><ol start="7"><li>自增运算意义不同</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">996</span>;</span><br><span class="line"><span class="keyword">int</span> *p = &amp;a;</span><br><span class="line"><span class="keyword">int</span> &amp;r = a;</span><br><span class="line"></span><br><span class="line">p++;<span class="comment">//p++之后指向a后面的内存</span></span><br><span class="line">r++;<span class="comment">//r++相当于a++</span></span><br></pre></td></tr></table></figure><ol start="8"><li>指针和引用作为函数参数时，指针需要检查是否为空，引用不需要</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun_p</span><span class="params">(<span class="keyword">int</span> *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 需要检查P是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// do something</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun_r</span><span class="params">(<span class="keyword">int</span> &amp;r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 不需要检查r</span></span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>指针与引用的使用</li></ul><p>指针和引用都可以作为函数参数，指针和引用作为函数参数时，函数直接对函数形参对应的实参的值进行修改。因此，当函数会修改形参对应实参的值时，采用指针和引用作为函数参数，当函数不需要修改形参对应实参值时，采用值传递即可，即采用普通变量作为函数参数。关于指针与引用的推荐使用方法如下所示：</p><table><thead><tr><th align="center">数据类型</th><th>只使用传递过来的值，而不对值进行修改</th><th>需要修改传递过来的值</th></tr></thead><tbody><tr><td align="center">内置数据类型</td><td>按值传递（小型结构）</td><td>指针传递</td></tr><tr><td align="center">数组</td><td>指针传递</td><td>指针传递</td></tr><tr><td align="center">结构</td><td>指针或引用（较大的结构）</td><td>指针或引用</td></tr><tr><td align="center">类、对象</td><td>引用传递</td><td>引用传递</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;C-指针与引用&quot;&gt;&lt;a href=&quot;#C-指针与引用&quot; class=&quot;headerlink&quot; title=&quot;C++指针与引用&quot;&gt;&lt;/a&gt;C++指针与引用&lt;/h1&gt;&lt;p&gt;学习c++时，很容易混淆指针和引用的用法，以及对指针与引用的使用存在些许疑惑，下面通过示例代码说明指针和引用的区别。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;指针与引用的区别？&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;定义和性质不同&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;指针是一个变量，其存储的是一个地址，该地址指向内存的一个存储单元；举例，张三的身份证看做一个指针，这个指针指向了张三，张三的妈妈夸奖了身份证不等于张三的妈妈夸奖了张三。&lt;/p&gt;
&lt;p&gt;引用是一个变量的别名，跟原来的变量实质上是同一个东西，类似于日常生活中“小名”的意思，例如张三的小名叫毛蛋，张三与毛蛋都指的是张三这个人，张三的妈妈夸奖了张三等于张三的妈妈夸奖了毛蛋。&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; a = &lt;span class=&quot;number&quot;&gt;996&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; *p = &amp;amp;a; &lt;span class=&quot;comment&quot;&gt;// p是指针, &amp;amp;在此是求地址运算&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &amp;amp;r = a; &lt;span class=&quot;comment&quot;&gt;// r是引用, &amp;amp;在此起标识作用&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;上面定义了一个整型变量 a，p 是一个指针变量，p 的值是变量 a 的地址；&lt;/p&gt;
&lt;p&gt;而引用 r，是 a 的一个别名，在内存中 r 和 a 占有同一个存储单元。&lt;/p&gt;</summary>
    
    
    
    <category term="C++" scheme="http://example.com/categories/C/"/>
    
    <category term="指针与引用" scheme="http://example.com/categories/C/%E6%8C%87%E9%92%88%E4%B8%8E%E5%BC%95%E7%94%A8/"/>
    
    
    <category term="C++" scheme="http://example.com/tags/C/"/>
    
    <category term="指针" scheme="http://example.com/tags/%E6%8C%87%E9%92%88/"/>
    
    <category term="引用" scheme="http://example.com/tags/%E5%BC%95%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>Linux | shell脚本</title>
    <link href="http://example.com/2023/10/07/shell%E8%84%9A%E6%9C%AC/"/>
    <id>http://example.com/2023/10/07/shell%E8%84%9A%E6%9C%AC/</id>
    <published>2023-10-07T12:56:01.000Z</published>
    <updated>2023-10-07T13:57:09.164Z</updated>
    
    <content type="html"><![CDATA[<h1 id="shell脚本"><a href="#shell脚本" class="headerlink" title="shell脚本"></a>shell脚本</h1><ul><li><p>shell脚本可将环境变量添加、依赖安装、二进制文件执行等命令包含在一个后缀为.sh的文本文件中，从而便于对应用的<strong>自动化运维</strong>。</p></li><li><p>常见的shell脚本语法</p><ol><li>向窗口输出文本</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>for  loop</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for file in `ls /etc`;do</span><br><span class="line">echo $file</span><br><span class="line">done</span><br></pre></td></tr></table></figure><ol start="3"><li><p>变量定义以及使用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 输出变量内容</span></span><br><span class="line">word=&quot;this is a string!&quot;</span><br><span class="line">echo $word</span><br><span class="line">echo &quot;word变量的内容是$&#123;word&#125;。&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 只读变量</span></span><br><span class="line">my_name=&quot;liao sheng li&quot;</span><br><span class="line">readonly my_name</span><br><span class="line">echo $my_name</span><br><span class="line">my_name=&quot;sheng li&quot; # ./test.sh:行20: my_name：只读变量</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除变量</span></span><br><span class="line">username=&quot;zhang san&quot;</span><br><span class="line">echo $username</span><br><span class="line">unset username</span><br><span class="line">echo $suername  # 不会输出内容</span><br></pre></td></tr></table></figure></li><li><p>shell字符串</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 输出字符串</span></span><br><span class="line">echo &quot;hello&quot; # 双引号方式表示字符串</span><br><span class="line">echo &#x27;hello&#x27; # 单引号方式表示字符串</span><br><span class="line">echo hello # 不使用引号方式</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 拼接字符串</span></span><br><span class="line">echo &quot;hello,&quot;world&quot;!&quot;</span><br><span class="line">echo &#x27;hello,&#x27;world&#x27;!&#x27;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取字符串长度</span></span><br><span class="line">string=&quot;hello&quot;</span><br><span class="line">echo &quot;字符串的长度为：$&#123;#string&#125;&quot;</span><br><span class="line">echo &quot;字符串的长度为：$&#123;#string[0]&#125;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提取子字符串</span></span><br><span class="line">string1=&quot;the sky is blue!&quot;</span><br><span class="line">echo $&#123;string1:4:3&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查找子字符串</span></span><br><span class="line">string2=&quot;this is a long string!&quot;</span><br><span class="line">echo `expr index &quot;$string2&quot; is`</span><br></pre></td></tr></table></figure></li></ol></li></ul><ol start="5"><li><p>shell数组</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 定义数组</span></span><br><span class="line">arr1=(1 2 3 4 5 6 7 8 9 10)</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 读取数组</span></span><br><span class="line">echo $&#123;arr1&#125;</span><br><span class="line">elem1=$&#123;arr1[0]&#125; # 输出下表为0时的数组元素</span><br><span class="line">echo $elem1</span><br><span class="line">echo $&#123;arr1[@]&#125; #输出数组所有元素</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取数组的长度</span></span><br><span class="line">echo $&#123;#arr1[@]&#125;  # 输出数组长度</span><br><span class="line">echo $&#123;#arr1[*]&#125; # 输出数组长度</span><br><span class="line">echo $&#123;#arr1[0]&#125; #输出下表为0的数组元素的长度</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关联数组</span></span><br><span class="line">declare -A site1=([&quot;google&quot;]=&quot;www.google.com&quot; [&quot;runoob&quot;]=&quot;www.runoob.com&quot; [&quot;taobao&quot;]=&quot;www.taobao.com&quot;)</span><br><span class="line">echo $&#123;site1[&quot;google&quot;]&#125;</span><br><span class="line">echo $&#123;site1[@]&#125;</span><br><span class="line">declare -A site2</span><br><span class="line">site2[&quot;google&quot;]=&quot;www.google.com&quot;</span><br><span class="line">site2[&quot;runoob&quot;]=&quot;www.runoob.com&quot;</span><br><span class="line">site2[&quot;taobao&quot;]=&quot;www.taobao.com&quot;</span><br><span class="line">echo $&#123;site2[&quot;taobao&quot;]&#125;</span><br><span class="line">echo $&#123;site2[*]&#125;</span><br></pre></td></tr></table></figure><ol start="6"><li>shell注释</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 这是一个单行注释</span></span><br><span class="line"></span><br><span class="line">: &lt;&lt;COMMENT</span><br><span class="line">这是</span><br><span class="line">一个</span><br><span class="line">多行注释！</span><br><span class="line">COMMENT</span><br><span class="line"></span><br><span class="line">: &#x27;</span><br><span class="line">这是一个</span><br><span class="line">多行注释</span><br><span class="line">&#x27;</span><br></pre></td></tr></table></figure></li><li><p>shell传递参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;此处执行shell脚本的命令为./test.sh 1 2 3&quot;</span><br><span class="line">echo &quot;执行的文件名：$0&quot;</span><br><span class="line">echo &quot;执行的文件名：$1&quot;</span><br><span class="line">echo &quot;执行的文件名：$2&quot;</span><br><span class="line">echo &quot;执行的文件名：$3&quot;</span><br><span class="line">: &#x27;</span><br><span class="line">执行结果：</span><br><span class="line">执行的文件名：./test.sh</span><br><span class="line">执行的文件名：1</span><br><span class="line">执行的文件名：2</span><br><span class="line">执行的文件名：3</span><br><span class="line">&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 处理参数的集中特殊字符</span></span><br><span class="line">echo $# # 输出传递给脚本的参数个数，执行脚本./test.sh 1 2 3输出3</span><br><span class="line">echo $* # 以单个字符串显示所有传递个脚本的参数就，执行脚本./test.sh 1 2 3输出1 2 3</span><br><span class="line">echo $$ # 输出脚本运行的当前进行ID号</span><br><span class="line">echo $@ # 与$*相同</span><br><span class="line">echo $-</span><br><span class="line">echo $? #显示最后命令的退出状态，0表示没有错误，其他任何值表明有错误</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $*与<span class="variable">$@</span>的区别</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $*</span></span><br><span class="line">for i in &quot;$*&quot;; do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="variable">$@</span></span></span><br><span class="line">for i in &quot;$@&quot;; do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li><li><p>shell运算符</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 算数运算符</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">val=`expr $a + $b`</span><br><span class="line">echo &quot;a + b : $val&quot;</span><br><span class="line">val=`expr $a - $b`</span><br><span class="line">echo &quot;a - b : $val&quot;</span><br><span class="line">val=`expr $a \* $b`</span><br><span class="line">echo &quot;a * b : $val&quot;</span><br><span class="line">val=`expr $b / $a`</span><br><span class="line">echo &quot;b / a : $val&quot;</span><br><span class="line">val=`expr $b % $a`</span><br><span class="line">echo &quot;b % a : $val&quot;</span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a 等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a 不等于 b&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关系运算符</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if [ $a -eq $b ] # 判断两个数字的值是否相等</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -eq $b : a 等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -eq $b: a 不等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ne $b ] # 判断两个数字的值是否不相等</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ne $b: a 不等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ne $b : a 等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -gt $b ] # 判断一个数字是否大于另一个数字</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -gt $b: a 大于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -gt $b: a 不大于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt $b ] # 判断一个数字是否小于另一个数字</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -lt $b: a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -lt $b: a 不小于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ge $b ] # 判断一个数字是否大于小于另一个数字</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ge $b: a 大于或等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ge $b: a 小于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -le $b ] # 判断一个数字是否小于等于另一个数字</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -le $b: a 小于或等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -le $b: a 大于 b&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 布尔运算符</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if [ $a != $b ] # 非</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a != $b : a 不等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a == $b: a 等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 100 -a $b -gt 15 ] # 与</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a 小于 100 且 $b 大于 15 : 返回 true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a 小于 100 且 $b 大于 15 : 返回 false&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 100 -o $b -gt 100 ] # 或</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a 小于 100 或 $b 大于 100 : 返回 true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a 小于 100 或 $b 大于 100 : 返回 false&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 5 -o $b -gt 100 ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a 小于 5 或 $b 大于 100 : 返回 true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a 小于 5 或 $b 大于 100 : 返回 false&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 逻辑运算符</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]] # 逻辑与</span><br><span class="line">then</span><br><span class="line">   echo &quot;返回 true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;返回 false&quot;</span><br><span class="line">fi</span><br><span class="line">if [[ $a -lt 100 || $b -gt 100 ]] # 逻辑或</span><br><span class="line">then</span><br><span class="line">   echo &quot;返回 true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;返回 false&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 字符串运算符</span></span><br><span class="line">a=&quot;abc&quot;</span><br><span class="line">b=&quot;efg&quot;</span><br><span class="line">if [ $a = $b ] #  判断字符串是否相等</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a = $b : a 等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a = $b: a 不等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ] #  判断字符串是否不相等</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a != $b : a 不等于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a != $b: a 等于 b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -z $a ] #  判断字符串长度是否为0</span><br><span class="line">then</span><br><span class="line">   echo &quot;-z $a : 字符串长度为 0&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;-z $a : 字符串长度不为 0&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -n &quot;$a&quot; ] #  判断字符串长度是否不为0</span><br><span class="line">then</span><br><span class="line">   echo &quot;-n $a : 字符串长度不为 0&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;-n $a : 字符串长度为 0&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a ] #  判断字符串是否为空</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a : 字符串不为空&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a : 字符串为空&quot;</span><br><span class="line">fi</span><br><span class="line">echo &quot;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 文件测试运算符</span></span><br><span class="line">file=&quot;./test.sh&quot;</span><br><span class="line">if [ -r $file ] # 判断文件是否可读</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件可读&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件不可读&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -w $file ] # 判断文件是否可写</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件可写&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件不可写&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -x $file ] # 判断文件是否可执行</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件可执行&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件不可执行&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -f $file ] # 判断文件是普通文件还是特殊文件</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件为普通文件&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件为特殊文件&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -d $file ] # 判断文件是不是一个目录</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件是个目录&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件不是个目录&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -s $file ] # 判断文件是否为空</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件不为空&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件为空&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -e $file ] # 判断文件是否存在</span><br><span class="line">then</span><br><span class="line">   echo &quot;文件存在&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;文件不存在&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></li><li><p>shell echo命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示普通字符串</span></span><br><span class="line">echo &quot;\&quot;显示转义字符\&quot;&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示变量</span></span><br><span class="line">read name # read 命令从标准输入中读取一行并赋值给name变量</span><br><span class="line">echo &quot;$name is one kind of color&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示换行</span></span><br><span class="line">echo -e &quot;hello\n&quot; # -e开启转义</span><br><span class="line">echo &quot;world&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示不换行</span></span><br><span class="line">echo -e &quot;OK! \c&quot; # \c不换行</span><br><span class="line">echo &quot;It is a test&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 原样输出字符串</span></span><br><span class="line">echo &#x27;$name\&quot;&#x27;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示命令执行结果</span></span><br><span class="line">echo `date`</span><br></pre></td></tr></table></figure></li><li><p>shell printf命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello&quot;</span><br><span class="line">printf &quot;hello\n&quot;</span><br><span class="line"></span><br><span class="line">printf &quot;%-10s %-8s %-4s\n&quot; 姓名 性别 体重kg  </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭靖 男 66.1234 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 杨过 男 48.6543 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭芙 女 47.9876</span><br></pre></td></tr></table></figure></li><li><p>test 命令</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">test</span> 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 数值测试</span></span><br><span class="line">num1=100</span><br><span class="line">num2=100</span><br><span class="line">if test $[num1] -eq $[num2] # 代码中的 [] 执行基本的算数运算</span><br><span class="line">then</span><br><span class="line">    echo &#x27;两个数相等！&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;两个数不相等！&#x27;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 字符串测试</span></span><br><span class="line">num1=&quot;ru1noob&quot;</span><br><span class="line">num2=&quot;runoob&quot;</span><br><span class="line">if test $num1 = $num2</span><br><span class="line">then</span><br><span class="line">    echo &#x27;两个字符串相等!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;两个字符串不相等!&#x27;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 文件测试</span></span><br><span class="line">if test -e ./test.sh</span><br><span class="line">then</span><br><span class="line">    echo &#x27;文件已存在!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;文件不存在!&#x27;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><ol start="12"><li><p>shell 流程控制</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 条件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用[...] 作为判断语句</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a 等于 b&quot;</span><br><span class="line">elif [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a 大于 b&quot;</span><br><span class="line">elif [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">echo &quot;a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;没有符合的条件&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用 ((...)) 作为判断语句,大于和小于可以直接使用 &gt; 和 &lt;</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if (( $a == $b ))</span><br><span class="line">then</span><br><span class="line">echo &quot;a 等于 b&quot;</span><br><span class="line">elif (( $a &gt; $b ))</span><br><span class="line">then</span><br><span class="line">echo &quot;a 大于 b&quot;</span><br><span class="line">elif (( $a &lt; $b ))</span><br><span class="line">then</span><br><span class="line">echo &quot;a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;没有符合的条件&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 循环</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">for</span>循环</span></span><br><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo &quot;The value is: $loop&quot;</span><br><span class="line">done</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">while</span>循环</span></span><br><span class="line">int=1</span><br><span class="line">while(( $int&lt;=5 ))</span><br><span class="line">do</span><br><span class="line">    echo $int</span><br><span class="line">    let &quot;int++&quot; # Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量</span><br><span class="line">done</span><br><span class="line">: &#x27;</span><br><span class="line">无限循环</span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for (( ; ; ))</span><br><span class="line">&#x27;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> until循环</span></span><br><span class="line">a=0</span><br><span class="line">until [ ! $a -lt 10 ]</span><br><span class="line">do</span><br><span class="line">   echo $a</span><br><span class="line">   a=`expr $a + 1`</span><br><span class="line">done</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">case</span>多选择语句</span></span><br><span class="line">echo &#x27;输入 1 到 4 之间的数字:&#x27;</span><br><span class="line">echo &#x27;你输入的数字为:&#x27;</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">    1)  echo &#x27;你选择了 1&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    2)  echo &#x27;你选择了 2&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    3)  echo &#x27;你选择了 3&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    4)  echo &#x27;你选择了 4&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    *)  echo &#x27;你没有输入 1 到 4 之间的数字&#x27;</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 跳出循环</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">break</span></span></span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;输入 1 到 5 之间的数字:&quot;</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo &quot;你输入的数字为 $aNum!&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *) echo &quot;你输入的数字不是 1 到 5 之间的! 游戏结束&quot;</span><br><span class="line">            break</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">continue</span></span></span><br><span class="line">: &#x27;</span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;输入 1 到 5 之间的数字: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo &quot;你输入的数字为 $aNum!&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *) echo &quot;你输入的数字不是 1 到 5 之间的!&quot;</span><br><span class="line">            continue</span><br><span class="line">            echo &quot;游戏结束&quot;</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br><span class="line">&#x27;</span><br></pre></td></tr></table></figure></li><li><p>shell 函数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 无返回值函数</span></span><br><span class="line">demoFun()&#123;</span><br><span class="line">echo &quot;这是我的第一个 shell 函数!&quot;</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;-----函数开始执行-----&quot;</span><br><span class="line">demoFun</span><br><span class="line">echo &quot;-----函数执行完毕-----&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 有返回值函数</span></span><br><span class="line">funWithReturn()&#123;</span><br><span class="line">    echo &quot;这个函数会对输入的两个数字进行相加运算...&quot;</span><br><span class="line">    echo &quot;输入第一个数字: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    echo &quot;输入第二个数字: &quot;</span><br><span class="line">    read anotherNum</span><br><span class="line">    echo &quot;两个数字分别为 $aNum 和 $anotherNum !&quot;</span><br><span class="line">    return $(($aNum+$anotherNum))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line">echo &quot;输入的两个数字之和为 $? !&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 函数参数</span></span><br><span class="line">funWithParam()&#123;</span><br><span class="line">    echo &quot;第一个参数为 $1 !&quot;</span><br><span class="line">    echo &quot;第二个参数为 $2 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $10 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $&#123;10&#125; !&quot;</span><br><span class="line">    echo &quot;第十一个参数为 $&#123;11&#125; !&quot;</span><br><span class="line">    echo &quot;参数总数有 $# 个!&quot;</span><br><span class="line">    echo &quot;作为一个字符串输出所有参数 $* !&quot;</span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br></pre></td></tr></table></figure></li><li><p>输入/输出重定向</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;print(&quot;hello&quot;)&#x27; &gt; hello.py</span><br></pre></td></tr></table></figure></li><li><p>shell文件包含</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">: &#x27;</span><br><span class="line">shell 脚本中可以包含外部脚本</span><br><span class="line"></span><br><span class="line">语法格式:</span><br><span class="line">. filename   # 注意点号(.)和文件名中间有一空格</span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line">source filename</span><br><span class="line">&#x27;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;shell脚本&quot;&gt;&lt;a href=&quot;#shell脚本&quot; class=&quot;headerlink&quot; title=&quot;shell脚本&quot;&gt;&lt;/a&gt;shell脚本&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;shell脚本可将环境变量添加、依赖安装、二进制文件执行等命令包含在一个后缀为.s</summary>
      
    
    
    
    <category term="Linux" scheme="http://example.com/categories/Linux/"/>
    
    <category term="shell脚本" scheme="http://example.com/categories/Linux/shell%E8%84%9A%E6%9C%AC/"/>
    
    
    <category term="shell脚本" scheme="http://example.com/tags/shell%E8%84%9A%E6%9C%AC/"/>
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>CMake | CMake安装及使用</title>
    <link href="http://example.com/2023/09/18/cmake%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/09/18/cmake%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/</id>
    <published>2023-09-18T15:13:29.000Z</published>
    <updated>2023-10-07T12:50:19.752Z</updated>
    
    <content type="html"><![CDATA[<h1 id="构建工具CMake"><a href="#构建工具CMake" class="headerlink" title="构建工具CMake"></a>构建工具CMake</h1><ul><li><p>软件构建</p><ul><li>自动完成代码编译、链接、打包的整个过程</li></ul></li><li><p>C和C++程序的构建工具-Cmake</p></li><li><p>Cmake的安装</p></li><li><p>gcc/clang编译工具安装（cmake不自带编译工具）</p></li><li><p>示例代码 main.cpp</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello,world&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>创建CMakeLists.txt文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.10)</span><br><span class="line"></span><br><span class="line">project(Example)</span><br><span class="line"></span><br><span class="line">add_executable(Example main.cpp)</span><br></pre></td></tr></table></figure></li><li><p>配置项目</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -S . -B build</span><br></pre></td></tr></table></figure></li><li><p>构建项目</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake --build build</span><br></pre></td></tr></table></figure><p>构建完成后生成Example可执行文件，如下图所示：</p><p><img src="/2023/09/18/cmake%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/1.png"></p></li><li><p>执行可执行文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- cd ./build/</span><br><span class="line">./Example</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出hello，world</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;构建工具CMake&quot;&gt;&lt;a href=&quot;#构建工具CMake&quot; class=&quot;headerlink&quot; title=&quot;构建工具CMake&quot;&gt;&lt;/a&gt;构建工具CMake&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;软件构建&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动完成代码编译、链接、打包的</summary>
      
    
    
    
    <category term="CMake" scheme="http://example.com/categories/CMake/"/>
    
    <category term="CMake安装及使用" scheme="http://example.com/categories/CMake/CMake%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    
    
    <category term="CMake" scheme="http://example.com/tags/CMake/"/>
    
  </entry>
  
  <entry>
    <title>gcc | 编译和链接</title>
    <link href="http://example.com/2023/09/18/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/"/>
    <id>http://example.com/2023/09/18/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/</id>
    <published>2023-09-18T14:29:42.000Z</published>
    <updated>2023-10-07T12:43:37.687Z</updated>
    
    <content type="html"><![CDATA[<h1 id="编译和链接"><a href="#编译和链接" class="headerlink" title="编译和链接"></a>编译和链接</h1><ul><li><p>通过一个代码示例理解编译与链接的过程</p><ol><li><p>安装gcc</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential</span><br></pre></td></tr></table></figure></li><li><p>编写示例代码</p><p><strong>main.c</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello,world!\n&quot;</span>);     </span><br><span class="line">    <span class="keyword">int</span> result = add(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>math.c</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>编译示例代码的两个文件main.c和math.c，得到对应的目标文件（Object File）main.o和math.o</p><p>注：目标文件是二进制文件，文件格式是ELF（Executable and Linkable Format）,ELF格式是linux下所有可执行文件的通用格式。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">gcc -c main.c</span><br><span class="line">gcc -c math.c</span><br><span class="line"></span><br><span class="line">file main.o</span><br><span class="line"><span class="meta">#</span><span class="bash">main.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), <span class="comment">#not stripped</span></span></span><br><span class="line"></span><br><span class="line">readelf -h main.o</span><br><span class="line">ELF Header:</span><br><span class="line">  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF64</span><br><span class="line">  Data:                              2&#x27;s complement, little endian</span><br><span class="line">  Version:                           1 (current)</span><br><span class="line">  OS/ABI:                            UNIX - System V</span><br><span class="line">  ABI Version:                       0</span><br><span class="line">  Type:                              REL (Relocatable file)</span><br><span class="line">  Machine:                           Advanced Micro Devices X86-64</span><br><span class="line">  Version:                           0x1</span><br><span class="line">  Entry point address:               0x0</span><br><span class="line">  Start of program headers:          0 (bytes into file)</span><br><span class="line">  Start of section headers:          672 (bytes into file)</span><br><span class="line">  Flags:                             0x0</span><br><span class="line">  Size of this header:               64 (bytes)</span><br><span class="line">  Size of program headers:           0 (bytes)</span><br><span class="line">  Number of program headers:         0</span><br><span class="line">  Size of section headers:           64 (bytes)</span><br><span class="line">  Number of section headers:         14</span><br><span class="line">  Section header string table index: 13</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">readelf -S main.o</span><br><span class="line"><span class="meta">#</span><span class="bash"> .text 代码区域</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .data 数据区域</span></span><br></pre></td></tr></table></figure><p><img src="/2023/09/18/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/1.png"></p><p>objdump -s -d main.o</p><p>-d:将代码段反汇编</p><p>-s:将代码段反汇编的同时，将反汇编代码和源代码交替显示，编译时需要给出-                  g，即需要调试信息。</p><p>右侧汇编指令中有两个call指令，既主函数中对printf和add的调用，从机器码可以看出跳转地址为0，需要在后续根据重定位表更新到printf和add的实际地址。</p><p><img src="/2023/09/18/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/2.png"></p><p>objdump -r main.o</p><p>查看两个函数调用的信息（地址偏移量、类型和值）</p><p><img src="/2023/09/18/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/3.png"></p></li><li><p>链接</p><p>链接调用的函数机器码并组装为可执行文件main</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc main.o math.o -o main</span><br></pre></td></tr></table></figure><ol><li>执行可执行文件main</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./main</span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出hello,world</span></span><br></pre></td></tr></table></figure></li><li><p>通过makefile来进行编译链接步骤</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">all: main</span></span><br><span class="line"></span><br><span class="line"><span class="section">main: main.o math.o</span></span><br><span class="line">        gcc main.o math.o -o main</span><br><span class="line"></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">        gcc -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">math.o: math.c</span></span><br><span class="line">        gcc -c math.c</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">        rm main main.o math.o</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make main             </span><br></pre></td></tr></table></figure><p>​          </p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;编译和链接&quot;&gt;&lt;a href=&quot;#编译和链接&quot; class=&quot;headerlink&quot; title=&quot;编译和链接&quot;&gt;&lt;/a&gt;编译和链接&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;通过一个代码示例理解编译与链接的过程&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装gcc&lt;/p&gt;
&lt;fig</summary>
      
    
    
    
    <category term="编译器" scheme="http://example.com/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"/>
    
    <category term="gcc" scheme="http://example.com/categories/%E7%BC%96%E8%AF%91%E5%99%A8/gcc/"/>
    
    <category term="编译和链接" scheme="http://example.com/categories/%E7%BC%96%E8%AF%91%E5%99%A8/gcc/%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/"/>
    
    
    <category term="编译" scheme="http://example.com/tags/%E7%BC%96%E8%AF%91/"/>
    
    <category term="链接" scheme="http://example.com/tags/%E9%93%BE%E6%8E%A5/"/>
    
  </entry>
  
  <entry>
    <title>InnoThought | 我的想法 2023.7.15</title>
    <link href="http://example.com/2023/07/15/%E6%88%91%E7%9A%84%E6%83%B3%E6%B3%9520230715/"/>
    <id>http://example.com/2023/07/15/%E6%88%91%E7%9A%84%E6%83%B3%E6%B3%9520230715/</id>
    <published>2023-07-15T13:04:03.000Z</published>
    <updated>2023-10-07T12:40:54.451Z</updated>
    
    <content type="html"><![CDATA[<h1 id="我的想法-2023-7-15"><a href="#我的想法-2023-7-15" class="headerlink" title="我的想法 2023.7.15"></a>我的想法 2023.7.15</h1><ul><li><p>Theme: 让技术有用</p></li><li><p>我的想法</p><ul><li><p>增加gitee的使用频率，系统学习某个技术并将学习过程或经验推送到gitee</p></li><li><p>时常维护自己的代码仓库以及个人博客</p></li><li><p>开发小工具/有用的功能，在gitee建立仓库</p></li><li><p>在建仓和维护仓库的同时，深入掌握git技术</p></li><li><p>希望在一年后能够有一个成熟的代码仓库（主题待定）</p></li><li><p>学习人工智能技术，并注意新技术的体验（例如yolo目标检测这样的技术）</p></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;我的想法-2023-7-15&quot;&gt;&lt;a href=&quot;#我的想法-2023-7-15&quot; class=&quot;headerlink&quot; title=&quot;我的想法 2023.7.15&quot;&gt;&lt;/a&gt;我的想法 2023.7.15&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theme: 让技术有用&lt;</summary>
      
    
    
    
    <category term="InnoThought" scheme="http://example.com/categories/InnoThought/"/>
    
    <category term="我的想法 2023.7.15" scheme="http://example.com/categories/InnoThought/%E6%88%91%E7%9A%84%E6%83%B3%E6%B3%95-2023-7-15/"/>
    
    
    <category term="InnoThought" scheme="http://example.com/tags/InnoThought/"/>
    
  </entry>
  
  <entry>
    <title>淡定自若 孰能生巧</title>
    <link href="http://example.com/2023/02/18/%E5%AD%B0%E8%83%BD%E7%94%9F%E5%B7%A7/"/>
    <id>http://example.com/2023/02/18/%E5%AD%B0%E8%83%BD%E7%94%9F%E5%B7%A7/</id>
    <published>2023-02-18T11:21:04.000Z</published>
    <updated>2023-02-18T11:39:54.454Z</updated>
    
    <content type="html"><![CDATA[<p><strong>“所有的淡定自若，背后一定是孰能生巧！”</strong></p><p>2023/2/18</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;“所有的淡定自若，背后一定是孰能生巧！”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2023/2/18&lt;/p&gt;
</summary>
      
    
    
    
    <category term="victory&#39;s thoughts" scheme="http://example.com/categories/victory-s-thoughts/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker | Docker的安装及常用命令</title>
    <link href="http://example.com/2022/11/24/Docker/"/>
    <id>http://example.com/2022/11/24/Docker/</id>
    <published>2022-11-25T07:40:02.000Z</published>
    <updated>2023-10-07T12:39:06.374Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker的安装及常用命令"><a href="#Docker的安装及常用命令" class="headerlink" title="Docker的安装及常用命令"></a>Docker的安装及常用命令</h1><ul><li><p>Docker是什么？Docker的作用？</p><ul><li>Docker是一个开源的应用<strong>容器</strong>引擎，基于Go语言开发，可以让开发者打包应用以及依赖包到容器中，然后发布到任何linux机器上，在移植应用时不需要重新搭建环境和导入依赖，具备强大的可移植性。与虚拟机有所区别，<strong>虚拟机虚拟出一套硬件并</strong>在其上搭建环境并部署应用，而docker通过<strong>将应用与依赖打包</strong>，从而达到可移植、快速部署的目的。</li></ul></li><li><p>Docker安装</p><p><a href="https://www.runoob.com/docker/ubuntu-docker-install.html">ubuntu环境下Docker安装教程</a></p></li><li><p>常用镜像（image）操作</p><ul><li><p>查找镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search image_name</span><br></pre></td></tr></table></figure></li><li><p>获取镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull image_name</span><br></pre></td></tr></table></figure></li><li><p>列出镜像列表</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images # 或docker image ls</span><br></pre></td></tr></table></figure></li><li><p>删除镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi image_name</span><br></pre></td></tr></table></figure></li></ul></li><li><p>常用容器（container）操作</p><ul><li><p>查看正在运行的容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br><span class="line">docker ps -q#只输出容器id</span><br></pre></td></tr></table></figure></li><li><p>启动容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd --name container_name image_name /bin/bash</span><br></pre></td></tr></table></figure><ul><li>-i:交互式操作</li><li>-t:终端</li><li>-d:docker服务在后台运行，启动后不会进入容器</li></ul></li><li><p>交互方式进入容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it container_id /bin/bash</span><br></pre></td></tr></table></figure></li><li><p>将主机内容复制到容器中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp file_name container_id:/path/directory</span><br></pre></td></tr></table></figure></li><li><p>启动已停止容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start conatainer_id</span><br></pre></td></tr></table></figure></li><li><p>停止容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop container_id</span><br></pre></td></tr></table></figure></li><li><p>重启容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart container_id</span><br></pre></td></tr></table></figure></li><li><p>删除容器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm container_id</span><br></pre></td></tr></table></figure></li><li><p>导出和导入容器 </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker export container_id &gt; xxx.tar # 导出容器</span><br><span class="line"></span><br><span class="line">docker import - image_name:image_tag # 根据镜像导入容器</span><br></pre></td></tr></table></figure></li><li><p>清理所有处于终止状态的容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container prune</span><br></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Docker的安装及常用命令&quot;&gt;&lt;a href=&quot;#Docker的安装及常用命令&quot; class=&quot;headerlink&quot; title=&quot;Docker的安装及常用命令&quot;&gt;&lt;/a&gt;Docker的安装及常用命令&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Docker是什么？Doc</summary>
      
    
    
    
    <category term="Docker" scheme="http://example.com/categories/Docker/"/>
    
    <category term="Docker的安装及常用命令" scheme="http://example.com/categories/Docker/Docker%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    
    
    <category term="Docker" scheme="http://example.com/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Git | Git常用命令</title>
    <link href="http://example.com/2022/11/24/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2022/11/24/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</id>
    <published>2022-11-25T03:11:03.000Z</published>
    <updated>2022-11-25T07:32:43.649Z</updated>
    
    <content type="html"><![CDATA[<h1 id="git常用命令"><a href="#git常用命令" class="headerlink" title="git常用命令"></a>git常用命令</h1><p>再次温习了一遍Git,格外亲切！很好的协同开发工具，给亿个赞！</p><span id="more"></span><ul><li>git常用命令<ul><li>git init</li><li>git status</li><li>git config –global user.name “username”</li><li>git config –global user.email “<a href="mailto:&#120;&#120;&#x78;&#x40;&#x78;&#x78;&#46;&#99;&#111;&#109;">&#120;&#120;&#x78;&#x40;&#x78;&#x78;&#46;&#99;&#111;&#109;</a>“</li><li>git add [filename]</li><li>git checkout – [filename]</li><li>git commit -m “comment”</li><li>git reset –hard HEAD^</li><li>git reset –hard HEAD~n</li><li>git remote add origin [remote url]</li><li>git pull origin master</li><li>git push origin master</li><li>git clone [remote url]</li><li>git branch [brach name]</li><li>git checkout [branch name]</li><li>git checkout -b [brach name]</li><li>git branch -v</li><li>git merge [branch name]</li><li>git brach -D [branch name]</li><li>git diff</li></ul></li><li>pull request<ul><li>fork项目到自己的github账户</li><li>把自己的github账户的项目clone到本地仓库</li><li>开发项目</li><li>提交到本地库（add、commit）</li><li>推送到自己的github账户的项目上</li><li>登录自己的github，在自己的项目上new pull request</li><li>填写pull request 申请</li><li>管理员合并</li></ul></li><li>部分命令的执行效果<br><img src="/2022/11/24/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1.png"></li><li>使用git协作开发的一般流程<br><img src="/2022/11/24/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/2.png"></li><li>fork项目、开发并提交pull request<br><img src="/2022/11/24/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/3.png"></li></ul>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;git常用命令&quot;&gt;&lt;a href=&quot;#git常用命令&quot; class=&quot;headerlink&quot; title=&quot;git常用命令&quot;&gt;&lt;/a&gt;git常用命令&lt;/h1&gt;&lt;p&gt;再次温习了一遍Git,格外亲切！很好的协同开发工具，给亿个赞！&lt;/p&gt;</summary>
    
    
    
    <category term="Git" scheme="http://example.com/categories/Git/"/>
    
    <category term="Git常用命令及使用Git进行协作的一般流程" scheme="http://example.com/categories/Git/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8F%8A%E4%BD%BF%E7%94%A8Git%E8%BF%9B%E8%A1%8C%E5%8D%8F%E4%BD%9C%E7%9A%84%E4%B8%80%E8%88%AC%E6%B5%81%E7%A8%8B/"/>
    
    
    <category term="Git" scheme="http://example.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>leetcode | 135.分发糖果</title>
    <link href="http://example.com/2022/10/24/%E5%88%86%E5%8F%91%E7%B3%96%E6%9E%9C/"/>
    <id>http://example.com/2022/10/24/%E5%88%86%E5%8F%91%E7%B3%96%E6%9E%9C/</id>
    <published>2022-10-24T13:55:05.000Z</published>
    <updated>2022-10-26T02:33:56.733Z</updated>
    
    <content type="html"><![CDATA[<h1 id="135-分发糖果"><a href="#135-分发糖果" class="headerlink" title="135.分发糖果"></a>135.分发糖果</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>n 个孩子站成一排。给你一个整数数组 ratings 表示每个孩子的评分。</p><p>你需要按照以下要求，给这些孩子分发糖果：<br>1）每个孩子至少分配到 1 个糖果。<br>2）相邻两个孩子评分更高的孩子会获得更多的糖果。</p><p>请你给每个孩子分发糖果，计算并返回需要准备的 最少糖果数目 。</p><p>示例 1：<br>输入：ratings = [1,0,2]<br>输出：5<br>解释：你可以分别给第一个、第二个、第三个孩子分发 2、1、2 颗糖果。</p><p>示例 2：<br>输入：ratings = [1,2,2]<br>输出：4<br>解释：你可以分别给第一个、第二个、第三个孩子分发 1、2、1 颗糖果。<br>     第三个孩子只得到 1 颗糖果，这满足题面中的两个条件。</p><p><a href="https://leetcode.cn/problems/candy">题目链接</a></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">candy</span>(<span class="params">self, ratings: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(ratings)</span><br><span class="line">        left = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> ratings[i] &gt; ratings[i - <span class="number">1</span>]:</span><br><span class="line">                left[i] = left[i - <span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left[i] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        right = ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> i &lt; n - <span class="number">1</span> <span class="keyword">and</span> ratings[i] &gt; ratings[i + <span class="number">1</span>]:</span><br><span class="line">                right += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right = <span class="number">1</span></span><br><span class="line">            ret += <span class="built_in">max</span>(left[i], right)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;135-分发糖果&quot;&gt;&lt;a href=&quot;#135-分发糖果&quot; class=&quot;headerlink&quot; title=&quot;135.分发糖果&quot;&gt;&lt;/a&gt;135.分发糖果&lt;/h1&gt;&lt;h2 id=&quot;题目描述&quot;&gt;&lt;a href=&quot;#题目描述&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="算法刷题" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/"/>
    
    <category term="leetcode" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/"/>
    
    <category term="数组" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/%E6%95%B0%E7%BB%84/"/>
    
    <category term="135.分发糖果" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/%E6%95%B0%E7%BB%84/135-%E5%88%86%E5%8F%91%E7%B3%96%E6%9E%9C/"/>
    
    
    <category term="算法" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="leetcode" scheme="http://example.com/tags/leetcode/"/>
    
    <category term="数组" scheme="http://example.com/tags/%E6%95%B0%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>leetcode | 695.岛屿的最大面积</title>
    <link href="http://example.com/2022/10/24/%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF/"/>
    <id>http://example.com/2022/10/24/%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF/</id>
    <published>2022-10-24T13:35:06.000Z</published>
    <updated>2022-10-24T13:49:26.123Z</updated>
    
    <content type="html"><![CDATA[<h1 id="695-岛屿的最大面积"><a href="#695-岛屿的最大面积" class="headerlink" title="695.岛屿的最大面积"></a>695.岛屿的最大面积</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给你一个大小为 m x n 的二进制矩阵 grid 。</p><p>岛屿 是由一些相邻的 1 (代表土地) 构成的组合，这里的「相邻」要求两个 1 必须在 水平或者竖直的四个方向上 相邻。你可以假设 grid 的四个边缘都被 0（代表水）包围着。</p><p>岛屿的面积是岛上值为 1 的单元格的数目。</p><p>计算并返回 grid 中最大的岛屿面积。如果没有岛屿，则返回面积为 0 。</p><p>示例 1：<br>输入：grid = [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]]<br>输出：6<br>解释：答案不应该是 11 ，因为岛屿只能包含水平或垂直这四个方向上的 1 。</p><p>示例 2：<br>输入：grid = [[0,0,0,0,0,0,0,0]]<br>输出：0</p><p><a href="https://leetcode.cn/problems/max-area-of-island">题目链接</a></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol><li>深度优先搜索（DFS）<br>利用深度优先搜索（DFS）对每个岛屿进行遍历，找出最大值<br>（1）从每个陆地出发，遍历该陆地所在的岛屿<br>（2）在遍历某一岛屿的时候：<br>1）从隶属于该岛屿的某一块陆地出发，向四个方向递归地DFS<br>2）每次递归对下标进行判断，以区域的边界作为递归边界<br>3）为保证每块陆地只访问一次，将已访问过的陆地置0<br>4）递归地返回整块岛屿的面积<br>（3）找出所有岛屿的最大值，即为答案</li></ol><p><strong>邻接矩阵和邻接表表示的图的DFS和BFS</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MGraph</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXVEX = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> INFINITY = <span class="number">65535</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[] vexs = <span class="keyword">new</span> <span class="keyword">int</span>[MAXVEX];</span><br><span class="line"><span class="keyword">int</span>[][] arc = <span class="keyword">new</span> <span class="keyword">int</span>[MAXVEX][MAXVEX];</span><br><span class="line"><span class="keyword">int</span> numVertexes;</span><br><span class="line"><span class="keyword">int</span> numEdges;</span><br><span class="line"><span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[MAXVEX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createMGraph</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;输入顶点数和边数：\n&quot;</span>);</span><br><span class="line">Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">numVertexes = scanner.nextInt();</span><br><span class="line">numEdges = scanner.nextInt();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numVertexes; i++) &#123;</span><br><span class="line">vexs[i] = scanner.nextInt();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; numVertexes; j++) &#123;</span><br><span class="line">arc[i][j] = INFINITY;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; numEdges; k++) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;输入边（vi,vj）上的下标i,j和权w：\n&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> i = scanner.nextInt();</span><br><span class="line"><span class="keyword">int</span> j = scanner.nextInt();</span><br><span class="line"><span class="keyword">int</span> w = scanner.nextInt();</span><br><span class="line">arc[i][j] = w;</span><br><span class="line">arc[j][i] = arc[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"> visited[i] = <span class="keyword">true</span>;</span><br><span class="line"> System.out.println(vexs[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; numVertexes; j++) &#123;</span><br><span class="line"> <span class="keyword">if</span>(arc[i][j] == <span class="number">1</span> &amp;&amp; !visited[j]) &#123;</span><br><span class="line"> DFS(j);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numVertexes; i++) &#123;</span><br><span class="line">visited[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(!visited[i]) &#123;</span><br><span class="line">DFS(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BFSTraverse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">LinkedList&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">this</span>.visited[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;<span class="comment">//对每一个顶点做循环</span></span><br><span class="line"><span class="keyword">if</span>(!visited[i]) &#123;<span class="comment">//若是未访问过就处理</span></span><br><span class="line">visited[i] = <span class="keyword">true</span>;<span class="comment">//设置当前顶点访问过</span></span><br><span class="line">System.out.println(<span class="keyword">this</span>.vexs[i]);<span class="comment">//打印顶点，也可以其他操作</span></span><br><span class="line">queue.addLast(i);<span class="comment">//将此顶点入队列</span></span><br><span class="line"><span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">queue.pop();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.numVertexes; j++) &#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.arc[i][j] == <span class="number">1</span> &amp;&amp; !<span class="keyword">this</span>.visited[j]) &#123;</span><br><span class="line">visited[j] = <span class="keyword">true</span>;</span><br><span class="line">System.out.println(<span class="keyword">this</span>.vexs[j]);</span><br><span class="line">queue.addLast(j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EdgeNode</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> adjvex;</span><br><span class="line">EdgeNode next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VertexNode</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line">EdgeNode firstedge;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GraphAdjList</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXVEX = <span class="number">100</span>;</span><br><span class="line">VertexNode[] adjList= <span class="keyword">new</span> VertexNode[MAXVEX];</span><br><span class="line"><span class="keyword">int</span> numVertexes;</span><br><span class="line"><span class="keyword">int</span> numEdges;</span><br><span class="line"><span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[MAXVEX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">createALGraph</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;输入顶点数和边数：&quot;</span>);</span><br><span class="line"><span class="keyword">this</span>.numVertexes = scanner.nextInt();</span><br><span class="line"><span class="keyword">this</span>.numEdges = scanner.nextInt();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line">VertexNode node = <span class="keyword">new</span> VertexNode();</span><br><span class="line">node.data = scanner.nextInt();</span><br><span class="line">node.firstedge = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">this</span>.adjList[i] = node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="keyword">this</span>.numEdges; k++) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;输入边（vi,vj）上的顶点序号：\n&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> i = scanner.nextInt();</span><br><span class="line"><span class="keyword">int</span> j = scanner.nextInt();</span><br><span class="line">EdgeNode e = <span class="keyword">new</span> EdgeNode();</span><br><span class="line">e.adjvex = j;</span><br><span class="line">e.next = <span class="keyword">this</span>.adjList[i].firstedge;</span><br><span class="line"><span class="keyword">this</span>.adjList[i].firstedge = e;</span><br><span class="line"></span><br><span class="line">EdgeNode e2 = <span class="keyword">new</span> EdgeNode();</span><br><span class="line">e2.adjvex = i;</span><br><span class="line">e2.next = <span class="keyword">this</span>.adjList[j].firstedge;</span><br><span class="line"><span class="keyword">this</span>.adjList[j].firstedge = e2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">visited[i] = <span class="keyword">true</span>;</span><br><span class="line">System.out.println(<span class="keyword">this</span>.adjList[i].data + <span class="string">&quot; &quot;</span>);</span><br><span class="line">EdgeNode p = <span class="keyword">new</span> EdgeNode();</span><br><span class="line">p = <span class="keyword">this</span>.adjList[i].firstedge;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(!visited[p.adjvex]) &#123;</span><br><span class="line">DFS(p.adjvex);</span><br><span class="line">&#125;</span><br><span class="line">p = p.next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">this</span>.visited[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(!visited[i]) &#123;</span><br><span class="line"><span class="keyword">this</span>.DFS(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BFSTraverse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">LinkedList&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">EdgeNode p = <span class="keyword">new</span> EdgeNode();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">this</span>.visited[i] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">this</span>.visited[i]) &#123;</span><br><span class="line"><span class="keyword">this</span>.visited[i] = <span class="keyword">true</span>;</span><br><span class="line">System.out.println(<span class="keyword">this</span>.adjList[i].data);<span class="comment">//打印顶点</span></span><br><span class="line">queue.addLast(i);</span><br><span class="line"><span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">queue.pop();</span><br><span class="line">p = <span class="keyword">this</span>.adjList[i].firstedge;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">this</span>.visited[p.adjvex]) &#123;</span><br><span class="line"><span class="keyword">this</span>.visited[p.adjvex] = <span class="keyword">true</span>;</span><br><span class="line">System.out.println(<span class="keyword">this</span>.adjList[p.adjvex].data);</span><br><span class="line">queue.add(p.adjvex);</span><br><span class="line">&#125;</span><br><span class="line">p = p.next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DFSAndBFS</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//邻接矩阵</span></span><br><span class="line">MGraph graph = <span class="keyword">new</span> MGraph();</span><br><span class="line">graph.createMGraph();</span><br><span class="line">System.out.println(<span class="string">&quot;邻接矩阵：\n&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.numVertexes; i++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; graph.numVertexes; j++) &#123;</span><br><span class="line">System.out.print(graph.arc[i][j]+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;深度优先搜索遍历图（邻接矩阵）：\n&quot;</span>);</span><br><span class="line">graph.DFSTraverse();</span><br><span class="line">System.out.println(<span class="string">&quot;广度优先搜索遍历图（邻接矩阵）：\n&quot;</span>);</span><br><span class="line">graph.BFSTraverse();</span><br><span class="line"></span><br><span class="line"><span class="comment">//邻接表</span></span><br><span class="line">GraphAdjList GL = <span class="keyword">new</span> GraphAdjList();</span><br><span class="line">GL.createALGraph();</span><br><span class="line">System.out.println(<span class="string">&quot;深度优先搜索遍历图（邻接表）：\n&quot;</span>);</span><br><span class="line">GL.DFSTraverse();</span><br><span class="line">System.out.println(<span class="string">&quot;广度优先搜索遍历图（邻接表）：\n&quot;</span>);</span><br><span class="line">GL.BFSTraverse();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">island_dfs</span>(<span class="params">self, grid, i, j</span>):</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(grid) &gt; i &gt;= <span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>(grid[<span class="number">0</span>]) &gt; j &gt;= <span class="number">0</span>:</span><br><span class="line"><span class="keyword">if</span> grid[i][j] == <span class="number">0</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">grid[i][j] = <span class="number">0</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span> + self.island_dfs(grid, i - <span class="number">1</span>, j) + self.island_dfs(grid, i + <span class="number">1</span>, j) + \</span><br><span class="line">       self.island_dfs(grid, i, j - <span class="number">1</span>) + self.island_dfs(grid, i, j + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_area_of_island</span>(<span class="params">self, grid</span>):</span></span><br><span class="line">ans = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid)):</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid[<span class="number">0</span>])):</span><br><span class="line">ans = <span class="built_in">max</span>(ans, self.island_dfs(grid, i, j))</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">s = Solution()</span><br><span class="line">grid = [[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]</span><br><span class="line">max_area = s.max_area_of_island(grid)</span><br><span class="line"><span class="built_in">print</span>(max_area)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;695-岛屿的最大面积&quot;&gt;&lt;a href=&quot;#695-岛屿的最大面积&quot; class=&quot;headerlink&quot; title=&quot;695.岛屿的最大面积&quot;&gt;&lt;/a&gt;695.岛屿的最大面积&lt;/h1&gt;&lt;h2 id=&quot;题目描述&quot;&gt;&lt;a href=&quot;#题目描述&quot; class=&quot;</summary>
      
    
    
    
    <category term="算法刷题" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/"/>
    
    <category term="leetcode" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/"/>
    
    <category term="DFS" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/DFS/"/>
    
    <category term="695.岛屿的最大面积" scheme="http://example.com/categories/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98/leetcode/DFS/695-%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF/"/>
    
    
    <category term="算法" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="leetcode" scheme="http://example.com/tags/leetcode/"/>
    
    <category term="DFS" scheme="http://example.com/tags/DFS/"/>
    
    <category term="深度优先搜索" scheme="http://example.com/tags/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"/>
    
  </entry>
  
  <entry>
    <title>Java | 字符串常量池</title>
    <link href="http://example.com/2022/08/20/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    <id>http://example.com/2022/08/20/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/</id>
    <published>2022-08-21T02:59:32.000Z</published>
    <updated>2022-08-21T04:39:36.144Z</updated>
    
    <content type="html"><![CDATA[<h1 id="字符串常量池"><a href="#字符串常量池" class="headerlink" title="字符串常量池"></a>字符串常量池</h1><p>首先来看下面一段代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        String a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        String b = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        String c = <span class="string">&quot;ab&quot;</span> + <span class="string">&quot;c&quot;</span>;</span><br><span class="line">        String d = <span class="string">&quot;a&quot;</span> + <span class="string">&quot;bc&quot;</span>;</span><br><span class="line">        String e = <span class="string">&quot;a&quot;</span> + <span class="string">&quot;b&quot;</span> + <span class="string">&quot;c&quot;</span>;</span><br><span class="line">        String f = <span class="keyword">new</span> String(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(a == b);<span class="comment">//true</span></span><br><span class="line">        System.out.println(a == c);<span class="comment">//true</span></span><br><span class="line">        System.out.println(a == d);<span class="comment">//true</span></span><br><span class="line">        System.out.println(a == e);<span class="comment">//true</span></span><br><span class="line">        System.out.println(a == f);<span class="comment">//false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>在使用String a = “abc”创建字符串对象时，JVM会使用常量池来管理字符串直接量。在执行该语句时，JVM会先检查常量池中是否已经存有”abc”，<br>若没有则将”abc”存入常量池，否则就复用常量池中已有的”abc”，将其引用赋值给变量a。</li><li>在使用new String(“abc”)创建字符串对象时，JVM会先使用常量池来管理字符串直接量，即将”abc”存入常量池。然后再创建一个新的String对象，<br>这个对象会被保存在堆内存中。并且，堆中对象的数据会指向常量池中的直接量。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;字符串常量池&quot;&gt;&lt;a href=&quot;#字符串常量池&quot; class=&quot;headerlink&quot; title=&quot;字符串常量池&quot;&gt;&lt;/a&gt;字符串常量池&lt;/h1&gt;&lt;p&gt;首先来看下面一段代码：&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;</summary>
      
    
    
    
    <category term="Java" scheme="http://example.com/categories/Java/"/>
    
    <category term="基础" scheme="http://example.com/categories/Java/%E5%9F%BA%E7%A1%80/"/>
    
    <category term="字符串常量池" scheme="http://example.com/categories/Java/%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    
    
    <category term="Java" scheme="http://example.com/tags/Java/"/>
    
    <category term="字符串常量池" scheme="http://example.com/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    
  </entry>
  
  <entry>
    <title>Java | 整数常量池</title>
    <link href="http://example.com/2022/08/20/Java%E6%95%B4%E6%95%B0%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    <id>http://example.com/2022/08/20/Java%E6%95%B4%E6%95%B0%E5%B8%B8%E9%87%8F%E6%B1%A0/</id>
    <published>2022-08-21T02:36:21.000Z</published>
    <updated>2022-08-21T04:06:00.417Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java整数常量池"><a href="#Java整数常量池" class="headerlink" title="Java整数常量池"></a>Java整数常量池</h1><p>首先来看一段示例代码，我们会发现这样的现象 127 = 127,128 != 128。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer a = <span class="number">127</span>;</span><br><span class="line">        Integer b = <span class="number">127</span>;</span><br><span class="line">        Integer c = <span class="number">128</span>;</span><br><span class="line">        Integer d = <span class="number">128</span>;</span><br><span class="line">        System.out.println(a == b);<span class="comment">//true</span></span><br><span class="line">        System.out.print(c == d);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        Integer e = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> f = <span class="number">1</span>;</span><br><span class="line">        System.out.println(e == f); <span class="comment">//Integer和int进行比较时，Integer会自动拆箱为int，然后比较两个值是否相等。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为什么会出现这样的现象，我们来看以下Integer类的源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Cache to support the object identity semantics of autoboxing for values between</span></span><br><span class="line"><span class="comment"> * -128 and 127 (inclusive) as required by JLS(Java Language Specification).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * The cache is initialized on first usage.  The size of the cache</span></span><br><span class="line"><span class="comment"> * may be controlled by the &#123;<span class="doctag">@code</span> -XX:AutoBoxCacheMax=&lt;size&gt;&#125; option.</span></span><br><span class="line"><span class="comment"> * During VM initialization, java.lang.Integer.IntegerCache.high property</span></span><br><span class="line"><span class="comment"> * may be set and saved in the private system properties in the</span></span><br><span class="line"><span class="comment"> * sun.misc.VM class.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> low = -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">127</span>;</span><br><span class="line">        String integerCacheHighPropValue =</span><br><span class="line">            sun.misc.VM.getSavedProperty(<span class="string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (integerCacheHighPropValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = parseInt(integerCacheHighPropValue);</span><br><span class="line">                i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        high = h;</span><br><span class="line"></span><br><span class="line">        cache = <span class="keyword">new</span> Integer[(high - low) + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> j = low;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">            cache[k] = <span class="keyword">new</span> Integer(j++);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">        <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">IntegerCache</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上这段代码是Integer类的一个内部类IntegerCache，它缓存了-128 ~ 127之间的整数值，缓存的最小值为low表示的值，缓存的最大值为high表示的值。<br>在创建这个范围内的整数对象时，可以在常量池中直接引用，而无需重新创建，因此 a == b 返回true。超出此范围的值，会通过new新的对象，因此 c == d返回false。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Java整数常量池&quot;&gt;&lt;a href=&quot;#Java整数常量池&quot; class=&quot;headerlink&quot; title=&quot;Java整数常量池&quot;&gt;&lt;/a&gt;Java整数常量池&lt;/h1&gt;&lt;p&gt;首先来看一段示例代码，我们会发现这样的现象 127 = 127,128 != 128</summary>
      
    
    
    
    <category term="Java" scheme="http://example.com/categories/Java/"/>
    
    <category term="基础" scheme="http://example.com/categories/Java/%E5%9F%BA%E7%A1%80/"/>
    
    <category term="整数常量池" scheme="http://example.com/categories/Java/%E5%9F%BA%E7%A1%80/%E6%95%B4%E6%95%B0%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    
    
    <category term="Java" scheme="http://example.com/tags/Java/"/>
    
    <category term="整数常量池" scheme="http://example.com/tags/%E6%95%B4%E6%95%B0%E5%B8%B8%E9%87%8F%E6%B1%A0/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot集成Druid</title>
    <link href="http://example.com/2022/08/17/SpringBoot%E9%9B%86%E6%88%90Druid/"/>
    <id>http://example.com/2022/08/17/SpringBoot%E9%9B%86%E6%88%90Druid/</id>
    <published>2022-08-17T13:38:57.000Z</published>
    <updated>2022-08-17T14:07:45.993Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot集成Druid"><a href="#SpringBoot集成Druid" class="headerlink" title="SpringBoot集成Druid"></a>SpringBoot集成Druid</h1><p>Java程序很大一部分要操作数据库，为了提高性能操作数据库的时候，又不得不使用数据库连接池。<br>Druid 是阿里巴巴开源平台上一个数据库连接池实现，结合了 C3P0、DBCP 等 DB 池的优点，同时加入了日志监控。<br>Druid 可以很好的监控 DB 池连接和 SQL 的执行情况，天生就是针对监控而生的 DB 连接池。<br>Druid已经在阿里巴巴部署了超过600个应用，经过一年多生产环境大规模部署的严苛考验。<br>Spring Boot 2.0 以上默认使用 Hikari 数据源，可以说 Hikari 与 Driud 都是当前 Java Web 上最优秀的数据源，我们来重点介绍 Spring Boot 如何集成 Druid 数据源，如何实现数据库监控。</p><p><a href="https://github.com/alibaba/druid/">Github地址</a></p><ul><li>项目目录<br><img src="/2022/08/17/SpringBoot%E9%9B%86%E6%88%90Druid/3.png"></li><li>添加Druid数据源依赖<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>切换数据源并配置数据源；之前已经说过 Spring Boot 2.0 以上默认使用 com.zaxxer.hikari.HikariDataSource 数据源，但可以 通过 spring.datasource.type 指定数据源<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="comment">#SpringBoot默认是不注入这些的，需要自己绑定</span></span><br><span class="line">    <span class="comment">#druid数据源专有配置</span></span><br><span class="line">    <span class="attr">initialSize:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">minIdle:</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">maxActive:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">maxWait:</span> <span class="number">60000</span></span><br><span class="line">    <span class="attr">timeBetweenEvictionRunsMillis:</span> <span class="number">60000</span></span><br><span class="line">    <span class="attr">minEvictableIdleTimeMillis:</span> <span class="number">300000</span></span><br><span class="line">    <span class="attr">validationQuery:</span> <span class="string">SELECT</span> <span class="number">1</span> <span class="string">FROM</span> <span class="string">DUAL</span></span><br><span class="line">    <span class="attr">testWhileIdle:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">testOnBorrow:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">testOnReturn:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">poolPreparedStatements:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#配置监控统计拦截的filters，stat：监控统计、log4j：日志记录、wall：防御sql注入</span></span><br><span class="line">    <span class="comment">#如果允许报错，java.lang.ClassNotFoundException: org.apache.Log4j.Properity</span></span><br><span class="line">    <span class="comment">#则导入log4j 依赖就行</span></span><br><span class="line">    <span class="attr">filters:</span> <span class="string">stat,wall</span> <span class="comment"># ,log4j</span></span><br><span class="line">    <span class="attr">maxPoolPreparedStatementPerConnectionSize:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">useGlobalDataSourceStat:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">connectionoProperties:</span> <span class="string">druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500</span></span><br></pre></td></tr></table></figure></li><li>现在需要程序员自己为 DruidDataSource 绑定全局配置文件中的参数，再添加到容器中，而不再使用 Spring Boot 的自动生成了；我们需要 自己添加 DruidDataSource 组件到容器中，并绑定属性；<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DruidConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//绑定全局配置文件中的参数</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">druidDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>测试Druid数据源是否配置成功<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpringDataApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DataSource dataSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//查看默认的数据源</span></span><br><span class="line">        System.out.println(dataSource.getClass());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获得数据库链接</span></span><br><span class="line">        Connection connection = dataSource.getConnection();</span><br><span class="line">        System.out.println(connection);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关闭</span></span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>配置Druid数据源监控<br>Druid 数据源具有监控的功能，并提供了一个 web 界面方便用户查看，类似安装 路由器 时，人家也提供了一个默认的 web 页面。<br>所以第一步需要设置 Druid 的后台管理页面，比如 登录账号、密码 等；配置后台管理；<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后台监控：相当于web.xml，配置ServletRegistrationBean</span></span><br><span class="line"><span class="comment">//因为SprintBoot内置了servlet容器，所以没有web.xml，替代方法ServletRegistrationBean</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ServletRegistrationBean <span class="title">statViewServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ServletRegistrationBean&lt;StatViewServlet&gt; bean = <span class="keyword">new</span> ServletRegistrationBean&lt;&gt;(<span class="keyword">new</span> StatViewServlet(), <span class="string">&quot;/druid/*&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 后台登录进行账号密码配置</span></span><br><span class="line">    HashMap&lt;String, String&gt; initParameters = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 增加配置，登录的key是固定的，loginUsername  loginPassword</span></span><br><span class="line">    initParameters.put(<span class="string">&quot;loginUsername&quot;</span>, <span class="string">&quot;admin&quot;</span>);</span><br><span class="line">    initParameters.put(<span class="string">&quot;loginPassword&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 允许谁可以访问，如果后面的参数为空代表谁都可以访问，指定参数只能指定的参数进行访问</span></span><br><span class="line">    initParameters.put(<span class="string">&quot;allow&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 禁止谁可以访问</span></span><br><span class="line">    <span class="comment">// initParameters.put(&quot;koko&quot;,&quot;192.168.43.21&quot;);</span></span><br><span class="line"></span><br><span class="line">    bean.setInitParameters(initParameters); <span class="comment">// 设置初始化参数</span></span><br><span class="line">    <span class="keyword">return</span> bean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>配置完成后，就可以通过<a href="http://localhost:8080/druid/login.html%E8%AE%BF%E9%97%AE%E7%9B%91%E6%8E%A7%E9%A1%B5%E9%9D%A2">http://localhost:8080/druid/login.html访问监控页面</a><br><img src="/2022/08/17/SpringBoot%E9%9B%86%E6%88%90Druid/1.png"></li><li>登录成功后显示的监控页面<br><img src="/2022/08/17/SpringBoot%E9%9B%86%E6%88%90Druid/2.png"></li><li>配置 Druid web 监控 filter 过滤器<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//filter</span><br><span class="line">@Bean</span><br><span class="line">public FilterRegistrationBean webStatFileter()&#123;</span><br><span class="line">    FilterRegistrationBean bean = new FilterRegistrationBean();</span><br><span class="line"></span><br><span class="line">    bean.setFilter(new WebStatFilter());</span><br><span class="line"></span><br><span class="line">    //可以过滤那些请求呢？</span><br><span class="line"></span><br><span class="line">    Map&lt;String, String&gt; initParameters = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    //这些东西不进行统计</span><br><span class="line">    initParameters.put(&quot;exclusions&quot;, &quot;*.js,*.css,/druid/*&quot;);</span><br><span class="line"></span><br><span class="line">    return bean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SpringBoot集成Druid&quot;&gt;&lt;a href=&quot;#SpringBoot集成Druid&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot集成Druid&quot;&gt;&lt;/a&gt;SpringBoot集成Druid&lt;/h1&gt;&lt;p&gt;Java程序很大一部</summary>
      
    
    
    
    <category term="Java" scheme="http://example.com/categories/Java/"/>
    
    <category term="框架" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/"/>
    
    <category term="SpringBoot" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/SpringBoot/"/>
    
    <category term="SpringBoot集成Druid" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/SpringBoot/SpringBoot%E9%9B%86%E6%88%90Druid/"/>
    
    
    <category term="SpringBoot" scheme="http://example.com/tags/SpringBoot/"/>
    
    <category term="SpringBoot集成Druid" scheme="http://example.com/tags/SpringBoot%E9%9B%86%E6%88%90Druid/"/>
    
    <category term="Druid" scheme="http://example.com/tags/Druid/"/>
    
    <category term="监控" scheme="http://example.com/tags/%E7%9B%91%E6%8E%A7/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot | SpringBoot集成MyBatis</title>
    <link href="http://example.com/2022/08/17/SpringBoot%E9%9B%86%E6%88%90MyBatis/"/>
    <id>http://example.com/2022/08/17/SpringBoot%E9%9B%86%E6%88%90MyBatis/</id>
    <published>2022-08-17T13:14:26.000Z</published>
    <updated>2022-08-17T13:38:22.021Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot集成MyBatis"><a href="#SpringBoot集成MyBatis" class="headerlink" title="SpringBoot集成MyBatis"></a>SpringBoot集成MyBatis</h1><ul><li>项目目录<br><img src="/2022/08/17/SpringBoot%E9%9B%86%E6%88%90MyBatis/1.png"></li><li>导入MyBatis所需要的依赖<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis-springboot--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>数据库和表<br><img src="/2022/08/17/SpringBoot%E9%9B%86%E6%88%90MyBatis/2.png"></li><li>配置数据库连接信息(application.yaml)、配置mybatis<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="comment">#?serverTimezone=UTC解决时区的报错</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 整合mybatis</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.example.pojo</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mybatis/mapper/*.xml</span></span><br></pre></td></tr></table></figure></li><li>创建实体类User.java（需要用到lombok）<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>创建Mapper接口UserMapper.java<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">queryUserList</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">User <span class="title">queryUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>创建映射文件UserMapper.xml<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--resultType=&quot;User&quot;和parameterType=&quot;User&quot;只有配置了type-aliases-package后才能起作用--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        insert into user (id, name, pwd) values (#&#123;id&#125;, #&#123;name&#125;, #&#123;pwd&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line">        update user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125; where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>编写UserController.java进行测试<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.example.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.websocket.server.PathParam;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/queryUserList&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryUserList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;User&gt; userList = userMapper.queryUserList();</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/queryUserById/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">queryUserById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span></span>&#123;</span><br><span class="line">        User user = userMapper.queryUserById(id);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @GetMapping(&quot;/addUser&quot;)  //http://localhost:8080/addUser?id=4&amp;name=wangmazi&amp;pwd=91011</span></span><br><span class="line"><span class="comment">//    public String addUser(@PathParam(&quot;id&quot;)Integer id, @PathParam(&quot;name&quot;)String name, @PathParam(&quot;pwd&quot;)String pwd)&#123;</span></span><br><span class="line"><span class="comment">//        userMapper.addUser(new User(id, name, pwd));</span></span><br><span class="line"><span class="comment">//        return &quot;ok&quot;;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/addUser/&#123;id&#125;/&#123;name&#125;/&#123;pwd&#125;&quot;)</span>  <span class="comment">//http://localhost:8080/addUser/4/wangmazi/123</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addUser</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id, <span class="meta">@PathVariable(&quot;name&quot;)</span> String name, <span class="meta">@PathVariable(&quot;pwd&quot;)</span> String pwd)</span></span>&#123;</span><br><span class="line">        userMapper.addUser(<span class="keyword">new</span> User(id, name, pwd));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/updateUser&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateuser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        userMapper.updateUser(<span class="keyword">new</span> User(<span class="number">5</span>, <span class="string">&quot;liuba&quot;</span>, <span class="string">&quot;325&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/deleteUser/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">deleteUser</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span></span>&#123;</span><br><span class="line">        userMapper.deleteUser(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SpringBoot集成MyBatis&quot;&gt;&lt;a href=&quot;#SpringBoot集成MyBatis&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot集成MyBatis&quot;&gt;&lt;/a&gt;SpringBoot集成MyBatis&lt;/h1&gt;&lt;ul&gt;
</summary>
      
    
    
    
    <category term="Java" scheme="http://example.com/categories/Java/"/>
    
    <category term="框架" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/"/>
    
    <category term="SpringBoot" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/SpringBoot/"/>
    
    <category term="SpringBoot集成MyBatis" scheme="http://example.com/categories/Java/%E6%A1%86%E6%9E%B6/SpringBoot/SpringBoot%E9%9B%86%E6%88%90MyBatis/"/>
    
    
    <category term="MyBatis" scheme="http://example.com/tags/MyBatis/"/>
    
    <category term="SpringBoot" scheme="http://example.com/tags/SpringBoot/"/>
    
    <category term="SpringBoot集成MyBatis" scheme="http://example.com/tags/SpringBoot%E9%9B%86%E6%88%90MyBatis/"/>
    
  </entry>
  
</feed>
